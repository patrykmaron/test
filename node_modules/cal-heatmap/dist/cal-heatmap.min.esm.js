import{select as t}from"d3-selection";import{hcl as e}from"d3-color";import{ascending as n,timeSecond as r,timeMinute as i,timeHour as o,timeDay as a,timeWeek as u,timeMonth as s,timeYear as c,timeMonday as l,timeTuesday as f,timeWednesday as h,timeThursday as d,timeFriday as p,timeSaturday as v,timeSunday as y,utcSecond as m,utcMinute as g,utcHour as b,utcDay as w,utcWeek as x,utcMonth as O,utcYear as k,utcMonday as S,utcTuesday as j,utcWednesday as _,utcThursday as M,utcFriday as D,utcSaturday as E,utcSunday as $,descending as P,range as L,symbolAsterisk as A,symbolCircle as C,symbolCross as T,symbolDiamond as R,symbolDiamond2 as I,symbolPlus as N,symbolSquare as W,symbolSquare2 as F,symbolStar as z,symbolTimes as H,symbolTriangle as Y,symbolTriangle2 as U,symbolWye as B,schemeAccent as G,schemeCategory10 as V,schemeDark2 as q,schemePaired as K,schemePastel1 as Z,schemePastel2 as J,schemeSet1 as Q,schemeSet2 as X,schemeSet3 as tt,schemeTableau10 as et,quantize as nt,interpolateBrBG as rt,interpolatePRGn as it,interpolatePiYG as ot,interpolatePuOr as at,interpolateRdBu as ut,interpolateRdGy as st,interpolateRdYlBu as ct,interpolateRdYlGn as lt,interpolateSpectral as ft,interpolateBlues as ht,interpolateGreens as dt,interpolateGreys as pt,interpolatePurples as vt,interpolateReds as yt,interpolateOranges as mt,interpolateTurbo as gt,interpolateViridis as bt,interpolateMagma as wt,interpolateInferno as xt,interpolatePlasma as Ot,interpolateCividis as kt,interpolateCubehelixDefault as St,interpolateWarm as jt,interpolateCool as _t,interpolateBuGn as Mt,interpolateBuPu as Dt,interpolateGnBu as Et,interpolateOrRd as $t,interpolatePuBuGn as Pt,interpolatePuBu as Lt,interpolatePuRd as At,interpolateRdPu as Ct,interpolateYlGnBu as Tt,interpolateYlGn as Rt,interpolateYlOrBr as It,interpolateYlOrRd as Nt,interpolateRainbow as Wt,interpolateSinebow as Ft,schemeBrBG as zt,schemePRGn as Ht,schemePiYG as Yt,schemePuOr as Ut,schemeRdBu as Bt,schemeRdGy as Gt,schemeRdYlBu as Vt,schemeRdYlGn as qt,schemeSpectral as Kt,schemeBlues as Zt,schemeGreens as Jt,schemeGreys as Qt,schemeOranges as Xt,schemePurples as te,schemeReds as ee,schemeBuGn as ne,schemeBuPu as re,schemeGnBu as ie,schemeOrRd as oe,schemePuBu as ae,schemePuBuGn as ue,schemePuRd as se,schemeRdPu as ce,schemeYlGn as le,schemeYlGnBu as fe,schemeYlOrBr as he,schemeYlOrRd as de,interpolateNumber as pe,interpolateRgb as ve,interpolateHsl as ye,interpolateHcl as me,interpolateLab as ge,scaleLinear as be,scalePow as we,scaleLog as xe,scaleSymlog as Oe,scaleQuantile as ke,extent as Se,ticks as je,reverse as _e,scaleThreshold as Me,scaleIdentity as De,max as Ee,interpolateRound as $e,min as Pe,quantile as Le,median as Ae,scaleDiverging as Ce,scaleDivergingPow as Te,scaleDivergingLog as Re,scaleDivergingSymlog as Ie,piecewise as Ne,scaleTime as We,scaleUtc as Fe,scaleImplicit as ze,scaleOrdinal as He,scalePoint as Ye,scaleBand as Ue,InternSet as Be,sort as Ge,symbolsStroke as Ve,symbolsFill as qe}from"d3";import{text as Ke,dsv as Ze,csv as Je,json as Qe}from"d3-fetch";function Xe(){Xe=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),u=new j(i||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==e&&n.call(m,o)&&(v=m);var g=p.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,u){var s=l(t[r],t,o);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,u)}),(function(t){i("throw",t,a,u)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,u)}))}u(s.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:M}}function M(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),s(g,u,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=_,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function tn(t){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(t)}function en(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cn(r.key),r)}}function rn(t,e,n){return e&&nn(t.prototype,e),n&&nn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function on(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){c=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(t,e)||un(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(t){return function(t){if(Array.isArray(t))return sn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||un(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(t,e){if(t){if("string"==typeof t)return sn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sn(t,e):void 0}}function sn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cn(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var ln="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function fn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hn=function(t){return t&&t.Math==Math&&t},dn=hn("object"==typeof globalThis&&globalThis)||hn("object"==typeof window&&window)||hn("object"==typeof self&&self)||hn("object"==typeof ln&&ln)||function(){return this}()||ln||Function("return this")(),pn={exports:{}},vn=dn,yn=Object.defineProperty,mn=function(t,e){try{yn(vn,t,{value:e,configurable:!0,writable:!0})}catch(n){vn[t]=e}return e},gn=mn,bn="__core-js_shared__",wn=dn[bn]||gn(bn,{}),xn=wn;(pn.exports=function(t,e){return xn[t]||(xn[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.2",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"});var On,kn,Sn=pn.exports,jn=function(t){try{return!!t()}catch(t){return!0}},_n=!jn((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),Mn=_n,Dn=Function.prototype,En=Dn.call,$n=Mn&&Dn.bind.bind(En,En),Pn=Mn?$n:function(t){return function(){return En.apply(t,arguments)}},Ln=function(t){return null==t},An=Ln,Cn=TypeError,Tn=function(t){if(An(t))throw Cn("Can't call method on "+t);return t},Rn=Tn,In=Object,Nn=function(t){return In(Rn(t))},Wn=Nn,Fn=Pn({}.hasOwnProperty),zn=Object.hasOwn||function(t,e){return Fn(Wn(t),e)},Hn=Pn,Yn=0,Un=Math.random(),Bn=Hn(1..toString),Gn=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Bn(++Yn+Un,36)},Vn="undefined"!=typeof navigator&&String(navigator.userAgent)||"",qn=dn,Kn=Vn,Zn=qn.process,Jn=qn.Deno,Qn=Zn&&Zn.versions||Jn&&Jn.version,Xn=Qn&&Qn.v8;Xn&&(kn=(On=Xn.split("."))[0]>0&&On[0]<4?1:+(On[0]+On[1])),!kn&&Kn&&(!(On=Kn.match(/Edge\/(\d+)/))||On[1]>=74)&&(On=Kn.match(/Chrome\/(\d+)/))&&(kn=+On[1]);var tr=kn,er=tr,nr=jn,rr=dn.String,ir=!!Object.getOwnPropertySymbols&&!nr((function(){var t=Symbol();return!rr(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&er&&er<41})),or=ir&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ar=Sn,ur=zn,sr=Gn,cr=ir,lr=or,fr=dn.Symbol,hr=ar("wks"),dr=lr?fr.for||fr:fr&&fr.withoutSetter||sr,pr=function(t){return ur(hr,t)||(hr[t]=cr&&ur(fr,t)?fr[t]:dr("Symbol."+t)),hr[t]},vr={};vr[pr("toStringTag")]="z";var yr="[object z]"===String(vr),mr="object"==typeof document&&document.all,gr={all:mr,IS_HTMLDDA:void 0===mr&&void 0!==mr},br=gr.all,wr=gr.IS_HTMLDDA?function(t){return"function"==typeof t||t===br}:function(t){return"function"==typeof t},xr={},Or=!jn((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),kr=wr,Sr=gr.all,jr=gr.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:kr(t)||t===Sr}:function(t){return"object"==typeof t?null!==t:kr(t)},_r=jr,Mr=dn.document,Dr=_r(Mr)&&_r(Mr.createElement),Er=function(t){return Dr?Mr.createElement(t):{}},$r=Er,Pr=!Or&&!jn((function(){return 7!=Object.defineProperty($r("div"),"a",{get:function(){return 7}}).a})),Lr=Or&&jn((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ar=jr,Cr=String,Tr=TypeError,Rr=function(t){if(Ar(t))return t;throw Tr(Cr(t)+" is not an object")},Ir=_n,Nr=Function.prototype.call,Wr=Ir?Nr.bind(Nr):function(){return Nr.apply(Nr,arguments)},Fr=dn,zr=wr,Hr=function(t,e){return arguments.length<2?(n=Fr[t],zr(n)?n:void 0):Fr[t]&&Fr[t][e];var n},Yr=Pn({}.isPrototypeOf),Ur=Hr,Br=wr,Gr=Yr,Vr=Object,qr=or?function(t){return"symbol"==typeof t}:function(t){var e=Ur("Symbol");return Br(e)&&Gr(e.prototype,Vr(t))},Kr=String,Zr=function(t){try{return Kr(t)}catch(t){return"Object"}},Jr=wr,Qr=Zr,Xr=TypeError,ti=function(t){if(Jr(t))return t;throw Xr(Qr(t)+" is not a function")},ei=ti,ni=Ln,ri=function(t,e){var n=t[e];return ni(n)?void 0:ei(n)},ii=Wr,oi=wr,ai=jr,ui=TypeError,si=Wr,ci=jr,li=qr,fi=ri,hi=function(t,e){var n,r;if("string"===e&&oi(n=t.toString)&&!ai(r=ii(n,t)))return r;if(oi(n=t.valueOf)&&!ai(r=ii(n,t)))return r;if("string"!==e&&oi(n=t.toString)&&!ai(r=ii(n,t)))return r;throw ui("Can't convert object to primitive value")},di=TypeError,pi=pr("toPrimitive"),vi=function(t,e){if(!ci(t)||li(t))return t;var n,r=fi(t,pi);if(r){if(void 0===e&&(e="default"),n=si(r,t,e),!ci(n)||li(n))return n;throw di("Can't convert object to primitive value")}return void 0===e&&(e="number"),hi(t,e)},yi=qr,mi=function(t){var e=vi(t,"string");return yi(e)?e:e+""},gi=Or,bi=Pr,wi=Lr,xi=Rr,Oi=mi,ki=TypeError,Si=Object.defineProperty,ji=Object.getOwnPropertyDescriptor,_i="enumerable",Mi="configurable",Di="writable";xr.f=gi?wi?function(t,e,n){if(xi(t),e=Oi(e),xi(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Di in n&&!n[Di]){var r=ji(t,e);r&&r[Di]&&(t[e]=n.value,n={configurable:Mi in n?n[Mi]:r[Mi],enumerable:_i in n?n[_i]:r[_i],writable:!1})}return Si(t,e,n)}:Si:function(t,e,n){if(xi(t),e=Oi(e),xi(n),bi)try{return Si(t,e,n)}catch(t){}if("get"in n||"set"in n)throw ki("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var Ei={exports:{}},$i=Or,Pi=zn,Li=Function.prototype,Ai=$i&&Object.getOwnPropertyDescriptor,Ci=Pi(Li,"name"),Ti={EXISTS:Ci,PROPER:Ci&&"something"===function(){}.name,CONFIGURABLE:Ci&&(!$i||$i&&Ai(Li,"name").configurable)},Ri=wr,Ii=wn,Ni=Pn(Function.toString);Ri(Ii.inspectSource)||(Ii.inspectSource=function(t){return Ni(t)});var Wi,Fi,zi,Hi=Ii.inspectSource,Yi=wr,Ui=dn.WeakMap,Bi=Yi(Ui)&&/native code/.test(String(Ui)),Gi=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Vi=xr,qi=Gi,Ki=Or?function(t,e,n){return Vi.f(t,e,qi(1,n))}:function(t,e,n){return t[e]=n,t},Zi=Gn,Ji=Sn("keys"),Qi=function(t){return Ji[t]||(Ji[t]=Zi(t))},Xi={},to=Bi,eo=dn,no=jr,ro=Ki,io=zn,oo=wn,ao=Qi,uo=Xi,so="Object already initialized",co=eo.TypeError,lo=eo.WeakMap;if(to||oo.state){var fo=oo.state||(oo.state=new lo);fo.get=fo.get,fo.has=fo.has,fo.set=fo.set,Wi=function(t,e){if(fo.has(t))throw co(so);return e.facade=t,fo.set(t,e),e},Fi=function(t){return fo.get(t)||{}},zi=function(t){return fo.has(t)}}else{var ho=ao("state");uo[ho]=!0,Wi=function(t,e){if(io(t,ho))throw co(so);return e.facade=t,ro(t,ho,e),e},Fi=function(t){return io(t,ho)?t[ho]:{}},zi=function(t){return io(t,ho)}}var po={set:Wi,get:Fi,has:zi,enforce:function(t){return zi(t)?Fi(t):Wi(t,{})},getterFor:function(t){return function(e){var n;if(!no(e)||(n=Fi(e)).type!==t)throw co("Incompatible receiver, "+t+" required");return n}}},vo=Pn,yo=jn,mo=wr,go=zn,bo=Or,wo=Ti.CONFIGURABLE,xo=Hi,Oo=po.enforce,ko=po.get,So=String,jo=Object.defineProperty,_o=vo("".slice),Mo=vo("".replace),Do=vo([].join),Eo=bo&&!yo((function(){return 8!==jo((function(){}),"length",{value:8}).length})),$o=String(String).split("String"),Po=Ei.exports=function(t,e,n){"Symbol("===_o(So(e),0,7)&&(e="["+Mo(So(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!go(t,"name")||wo&&t.name!==e)&&(bo?jo(t,"name",{value:e,configurable:!0}):t.name=e),Eo&&n&&go(n,"arity")&&t.length!==n.arity&&jo(t,"length",{value:n.arity});try{n&&go(n,"constructor")&&n.constructor?bo&&jo(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=Oo(t);return go(r,"source")||(r.source=Do($o,"string"==typeof e?e:"")),t};Function.prototype.toString=Po((function(){return mo(this)&&ko(this).source||xo(this)}),"toString");var Lo=Ei.exports,Ao=wr,Co=xr,To=Lo,Ro=mn,Io=function(t,e,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:e;if(Ao(n)&&To(n,o,r),r.global)i?t[e]=n:Ro(e,n);else{try{r.unsafe?t[e]&&(i=!0):delete t[e]}catch(t){}i?t[e]=n:Co.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},No=Pn,Wo=No({}.toString),Fo=No("".slice),zo=function(t){return Fo(Wo(t),8,-1)},Ho=yr,Yo=wr,Uo=zo,Bo=pr("toStringTag"),Go=Object,Vo="Arguments"==Uo(function(){return arguments}()),qo=Ho?Uo:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Go(t),Bo))?n:Vo?Uo(e):"Object"==(r=Uo(e))&&Yo(e.callee)?"Arguments":r},Ko=qo,Zo=yr?{}.toString:function(){return"[object "+Ko(this)+"]"};yr||Io(Object.prototype,"toString",Zo,{unsafe:!0});var Jo={},Qo={},Xo={}.propertyIsEnumerable,ta=Object.getOwnPropertyDescriptor,ea=ta&&!Xo.call({1:2},1);Qo.f=ea?function(t){var e=ta(this,t);return!!e&&e.enumerable}:Xo;var na=jn,ra=zo,ia=Object,oa=Pn("".split),aa=na((function(){return!ia("z").propertyIsEnumerable(0)}))?function(t){return"String"==ra(t)?oa(t,""):ia(t)}:ia,ua=aa,sa=Tn,ca=function(t){return ua(sa(t))},la=Or,fa=Wr,ha=Qo,da=Gi,pa=ca,va=mi,ya=zn,ma=Pr,ga=Object.getOwnPropertyDescriptor;Jo.f=la?ga:function(t,e){if(t=pa(t),e=va(e),ma)try{return ga(t,e)}catch(t){}if(ya(t,e))return da(!fa(ha.f,t,e),t[e])};var ba={},wa=Math.ceil,xa=Math.floor,Oa=Math.trunc||function(t){var e=+t;return(e>0?xa:wa)(e)},ka=function(t){var e=+t;return e!=e||0===e?0:Oa(e)},Sa=ka,ja=Math.max,_a=Math.min,Ma=function(t,e){var n=Sa(t);return n<0?ja(n+e,0):_a(n,e)},Da=ka,Ea=Math.min,$a=function(t){return t>0?Ea(Da(t),9007199254740991):0},Pa=$a,La=function(t){return Pa(t.length)},Aa=ca,Ca=Ma,Ta=La,Ra=function(t){return function(e,n,r){var i,o=Aa(e),a=Ta(o),u=Ca(r,a);if(t&&n!=n){for(;a>u;)if((i=o[u++])!=i)return!0}else for(;a>u;u++)if((t||u in o)&&o[u]===n)return t||u||0;return!t&&-1}},Ia={includes:Ra(!0),indexOf:Ra(!1)},Na=zn,Wa=ca,Fa=Ia.indexOf,za=Xi,Ha=Pn([].push),Ya=function(t,e){var n,r=Wa(t),i=0,o=[];for(n in r)!Na(za,n)&&Na(r,n)&&Ha(o,n);for(;e.length>i;)Na(r,n=e[i++])&&(~Fa(o,n)||Ha(o,n));return o},Ua=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ba=Ya,Ga=Ua.concat("length","prototype");ba.f=Object.getOwnPropertyNames||function(t){return Ba(t,Ga)};var Va={};Va.f=Object.getOwnPropertySymbols;var qa=Hr,Ka=ba,Za=Va,Ja=Rr,Qa=Pn([].concat),Xa=qa("Reflect","ownKeys")||function(t){var e=Ka.f(Ja(t)),n=Za.f;return n?Qa(e,n(t)):e},tu=zn,eu=Xa,nu=Jo,ru=xr,iu=jn,ou=wr,au=/#|\.prototype\./,uu=function(t,e){var n=cu[su(t)];return n==fu||n!=lu&&(ou(e)?iu(e):!!e)},su=uu.normalize=function(t){return String(t).replace(au,".").toLowerCase()},cu=uu.data={},lu=uu.NATIVE="N",fu=uu.POLYFILL="P",hu=uu,du=dn,pu=Jo.f,vu=Ki,yu=Io,mu=mn,gu=function(t,e,n){for(var r=eu(e),i=ru.f,o=nu.f,a=0;a<r.length;a++){var u=r[a];tu(t,u)||n&&tu(n,u)||i(t,u,o(e,u))}},bu=hu,wu=function(t,e){var n,r,i,o,a,u=t.target,s=t.global,c=t.stat;if(n=s?du:c?du[u]||mu(u,{}):(du[u]||{}).prototype)for(r in e){if(o=e[r],i=t.dontCallGetSet?(a=pu(n,r))&&a.value:n[r],!bu(s?r:u+(c?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;gu(o,i)}(t.sham||i&&i.sham)&&vu(o,"sham",!0),yu(n,r,o,t)}},xu="undefined"!=typeof process&&"process"==zo(process),Ou=Pn,ku=ti,Su=wr,ju=String,_u=TypeError,Mu=function(t,e,n){try{return Ou(ku(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}},Du=Rr,Eu=function(t){if("object"==typeof t||Su(t))return t;throw _u("Can't set "+ju(t)+" as a prototype")},$u=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Mu(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return Du(n),Eu(r),e?t(n,r):n.__proto__=r,n}}():void 0),Pu=xr.f,Lu=zn,Au=pr("toStringTag"),Cu=function(t,e,n){t&&!n&&(t=t.prototype),t&&!Lu(t,Au)&&Pu(t,Au,{configurable:!0,value:e})},Tu=Lo,Ru=xr,Iu=function(t,e,n){return n.get&&Tu(n.get,e,{getter:!0}),n.set&&Tu(n.set,e,{setter:!0}),Ru.f(t,e,n)},Nu=Hr,Wu=Iu,Fu=Or,zu=pr("species"),Hu=function(t){var e=Nu(t);Fu&&e&&!e[zu]&&Wu(e,zu,{configurable:!0,get:function(){return this}})},Yu=Yr,Uu=TypeError,Bu=function(t,e){if(Yu(e,t))return t;throw Uu("Incorrect invocation")},Gu=Pn,Vu=jn,qu=wr,Ku=qo,Zu=Hi,Ju=function(){},Qu=[],Xu=Hr("Reflect","construct"),ts=/^\s*(?:class|function)\b/,es=Gu(ts.exec),ns=!ts.exec(Ju),rs=function(t){if(!qu(t))return!1;try{return Xu(Ju,Qu,t),!0}catch(t){return!1}},is=function(t){if(!qu(t))return!1;switch(Ku(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ns||!!es(ts,Zu(t))}catch(t){return!0}};is.sham=!0;var os,as,us,ss,cs=!Xu||Vu((function(){var t;return rs(rs.call)||!rs(Object)||!rs((function(){t=!0}))||t}))?is:rs,ls=cs,fs=Zr,hs=TypeError,ds=Rr,ps=function(t){if(ls(t))return t;throw hs(fs(t)+" is not a constructor")},vs=Ln,ys=pr("species"),ms=_n,gs=Function.prototype,bs=gs.apply,ws=gs.call,xs="object"==typeof Reflect&&Reflect.apply||(ms?ws.bind(bs):function(){return ws.apply(bs,arguments)}),Os=zo,ks=Pn,Ss=function(t){if("Function"===Os(t))return ks(t)},js=ti,_s=_n,Ms=Ss(Ss.bind),Ds=function(t,e){return js(t),void 0===e?t:_s?Ms(t,e):function(){return t.apply(e,arguments)}},Es=Hr("document","documentElement"),$s=Pn([].slice),Ps=TypeError,Ls=/(?:ipad|iphone|ipod).*applewebkit/i.test(Vn),As=dn,Cs=xs,Ts=Ds,Rs=wr,Is=zn,Ns=jn,Ws=Es,Fs=$s,zs=Er,Hs=function(t,e){if(t<e)throw Ps("Not enough arguments");return t},Ys=Ls,Us=xu,Bs=As.setImmediate,Gs=As.clearImmediate,Vs=As.process,qs=As.Dispatch,Ks=As.Function,Zs=As.MessageChannel,Js=As.String,Qs=0,Xs={},tc="onreadystatechange";Ns((function(){os=As.location}));var ec=function(t){if(Is(Xs,t)){var e=Xs[t];delete Xs[t],e()}},nc=function(t){return function(){ec(t)}},rc=function(t){ec(t.data)},ic=function(t){As.postMessage(Js(t),os.protocol+"//"+os.host)};Bs&&Gs||(Bs=function(t){Hs(arguments.length,1);var e=Rs(t)?t:Ks(t),n=Fs(arguments,1);return Xs[++Qs]=function(){Cs(e,void 0,n)},as(Qs),Qs},Gs=function(t){delete Xs[t]},Us?as=function(t){Vs.nextTick(nc(t))}:qs&&qs.now?as=function(t){qs.now(nc(t))}:Zs&&!Ys?(ss=(us=new Zs).port2,us.port1.onmessage=rc,as=Ts(ss.postMessage,ss)):As.addEventListener&&Rs(As.postMessage)&&!As.importScripts&&os&&"file:"!==os.protocol&&!Ns(ic)?(as=ic,As.addEventListener("message",rc,!1)):as=tc in zs("script")?function(t){Ws.appendChild(zs("script"))[tc]=function(){Ws.removeChild(this),ec(t)}}:function(t){setTimeout(nc(t),0)});var oc={set:Bs,clear:Gs},ac=function(){this.head=null,this.tail=null};ac.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var uc,sc,cc,lc,fc,hc=ac,dc=/ipad|iphone|ipod/i.test(Vn)&&"undefined"!=typeof Pebble,pc=/web0s(?!.*chrome)/i.test(Vn),vc=dn,yc=Ds,mc=Jo.f,gc=oc.set,bc=hc,wc=Ls,xc=dc,Oc=pc,kc=xu,Sc=vc.MutationObserver||vc.WebKitMutationObserver,jc=vc.document,_c=vc.process,Mc=vc.Promise,Dc=mc(vc,"queueMicrotask"),Ec=Dc&&Dc.value;if(!Ec){var $c=new bc,Pc=function(){var t,e;for(kc&&(t=_c.domain)&&t.exit();e=$c.get();)try{e()}catch(t){throw $c.head&&uc(),t}t&&t.enter()};wc||kc||Oc||!Sc||!jc?!xc&&Mc&&Mc.resolve?((lc=Mc.resolve(void 0)).constructor=Mc,fc=yc(lc.then,lc),uc=function(){fc(Pc)}):kc?uc=function(){_c.nextTick(Pc)}:(gc=yc(gc,vc),uc=function(){gc(Pc)}):(sc=!0,cc=jc.createTextNode(""),new Sc(Pc).observe(cc,{characterData:!0}),uc=function(){cc.data=sc=!sc}),Ec=function(t){$c.head||uc(),$c.add(t)}}var Lc=Ec,Ac=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Cc=dn.Promise,Tc="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Rc=!Tc&&!xu&&"object"==typeof window&&"object"==typeof document,Ic=dn,Nc=Cc,Wc=wr,Fc=hu,zc=Hi,Hc=pr,Yc=Rc,Uc=Tc,Bc=tr;Nc&&Nc.prototype;var Gc=Hc("species"),Vc=!1,qc=Wc(Ic.PromiseRejectionEvent),Kc=Fc("Promise",(function(){var t=zc(Nc),e=t!==String(Nc);if(!e&&66===Bc)return!0;if(!Bc||Bc<51||!/native code/.test(t)){var n=new Nc((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[Gc]=r,!(Vc=n.then((function(){}))instanceof r))return!0}return!e&&(Yc||Uc)&&!qc})),Zc={CONSTRUCTOR:Kc,REJECTION_EVENT:qc,SUBCLASSING:Vc},Jc={},Qc=ti,Xc=TypeError,tl=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw Xc("Bad Promise constructor");e=t,n=r})),this.resolve=Qc(e),this.reject=Qc(n)};Jc.f=function(t){return new tl(t)};var el,nl,rl,il=wu,ol=xu,al=dn,ul=Wr,sl=Io,cl=$u,ll=Cu,fl=Hu,hl=ti,dl=wr,pl=jr,vl=Bu,yl=function(t,e){var n,r=ds(t).constructor;return void 0===r||vs(n=ds(r)[ys])?e:ps(n)},ml=oc.set,gl=Lc,bl=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}},wl=Ac,xl=hc,Ol=po,kl=Cc,Sl=Jc,jl="Promise",_l=Zc.CONSTRUCTOR,Ml=Zc.REJECTION_EVENT,Dl=Zc.SUBCLASSING,El=Ol.getterFor(jl),$l=Ol.set,Pl=kl&&kl.prototype,Ll=kl,Al=Pl,Cl=al.TypeError,Tl=al.document,Rl=al.process,Il=Sl.f,Nl=Il,Wl=!!(Tl&&Tl.createEvent&&al.dispatchEvent),Fl="unhandledrejection",zl=function(t){var e;return!(!pl(t)||!dl(e=t.then))&&e},Hl=function(t,e){var n,r,i,o=e.value,a=1==e.state,u=a?t.ok:t.fail,s=t.resolve,c=t.reject,l=t.domain;try{u?(a||(2===e.rejection&&Vl(e),e.rejection=1),!0===u?n=o:(l&&l.enter(),n=u(o),l&&(l.exit(),i=!0)),n===t.promise?c(Cl("Promise-chain cycle")):(r=zl(n))?ul(r,n,s,c):s(n)):c(o)}catch(t){l&&!i&&l.exit(),c(t)}},Yl=function(t,e){t.notified||(t.notified=!0,gl((function(){for(var n,r=t.reactions;n=r.get();)Hl(n,t);t.notified=!1,e&&!t.rejection&&Bl(t)})))},Ul=function(t,e,n){var r,i;Wl?((r=Tl.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),al.dispatchEvent(r)):r={promise:e,reason:n},!Ml&&(i=al["on"+t])?i(r):t===Fl&&bl("Unhandled promise rejection",n)},Bl=function(t){ul(ml,al,(function(){var e,n=t.facade,r=t.value;if(Gl(t)&&(e=wl((function(){ol?Rl.emit("unhandledRejection",r,n):Ul(Fl,n,r)})),t.rejection=ol||Gl(t)?2:1,e.error))throw e.value}))},Gl=function(t){return 1!==t.rejection&&!t.parent},Vl=function(t){ul(ml,al,(function(){var e=t.facade;ol?Rl.emit("rejectionHandled",e):Ul("rejectionhandled",e,t.value)}))},ql=function(t,e,n){return function(r){t(e,r,n)}},Kl=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Yl(t,!0))},Zl=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Cl("Promise can't be resolved itself");var r=zl(e);r?gl((function(){var n={done:!1};try{ul(r,e,ql(Zl,n,t),ql(Kl,n,t))}catch(e){Kl(n,e,t)}})):(t.value=e,t.state=1,Yl(t,!1))}catch(e){Kl({done:!1},e,t)}}};if(_l&&(Al=(Ll=function(t){vl(this,Al),hl(t),ul(el,this);var e=El(this);try{t(ql(Zl,e),ql(Kl,e))}catch(t){Kl(e,t)}}).prototype,(el=function(t){$l(this,{type:jl,done:!1,notified:!1,parent:!1,reactions:new xl,rejection:!1,state:0,value:void 0})}).prototype=sl(Al,"then",(function(t,e){var n=El(this),r=Il(yl(this,Ll));return n.parent=!0,r.ok=!dl(t)||t,r.fail=dl(e)&&e,r.domain=ol?Rl.domain:void 0,0==n.state?n.reactions.add(r):gl((function(){Hl(r,n)})),r.promise})),nl=function(){var t=new el,e=El(t);this.promise=t,this.resolve=ql(Zl,e),this.reject=ql(Kl,e)},Sl.f=Il=function(t){return t===Ll||undefined===t?new nl(t):Nl(t)},dl(kl)&&Pl!==Object.prototype)){rl=Pl.then,Dl||sl(Pl,"then",(function(t,e){var n=this;return new Ll((function(t,e){ul(rl,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete Pl.constructor}catch(t){}cl&&cl(Pl,Al)}il({global:!0,constructor:!0,wrap:!0,forced:_l},{Promise:Ll}),ll(Ll,jl,!1),fl(jl);var Jl={},Ql=Jl,Xl=pr("iterator"),tf=Array.prototype,ef=function(t){return void 0!==t&&(Ql.Array===t||tf[Xl]===t)},nf=qo,rf=ri,of=Ln,af=Jl,uf=pr("iterator"),sf=function(t){if(!of(t))return rf(t,uf)||rf(t,"@@iterator")||af[nf(t)]},cf=Wr,lf=ti,ff=Rr,hf=Zr,df=sf,pf=TypeError,vf=function(t,e){var n=arguments.length<2?df(t):e;if(lf(n))return ff(cf(n,t));throw pf(hf(t)+" is not iterable")},yf=Wr,mf=Rr,gf=ri,bf=function(t,e,n){var r,i;mf(t);try{if(!(r=gf(t,"return"))){if("throw"===e)throw n;return n}r=yf(r,t)}catch(t){i=!0,r=t}if("throw"===e)throw n;if(i)throw r;return mf(r),n},wf=Ds,xf=Wr,Of=Rr,kf=Zr,Sf=ef,jf=La,_f=Yr,Mf=vf,Df=sf,Ef=bf,$f=TypeError,Pf=function(t,e){this.stopped=t,this.result=e},Lf=Pf.prototype,Af=function(t,e,n){var r,i,o,a,u,s,c,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),v=wf(e,l),y=function(t){return r&&Ef(r,"normal",t),new Pf(!0,t)},m=function(t){return f?(Of(t),p?v(t[0],t[1],y):v(t[0],t[1])):p?v(t,y):v(t)};if(h)r=t.iterator;else if(d)r=t;else{if(!(i=Df(t)))throw $f(kf(t)+" is not iterable");if(Sf(i)){for(o=0,a=jf(t);a>o;o++)if((u=m(t[o]))&&_f(Lf,u))return u;return new Pf(!1)}r=Mf(t,i)}for(s=h?t.next:r.next;!(c=xf(s,r)).done;){try{u=m(c.value)}catch(t){Ef(r,"throw",t)}if("object"==typeof u&&u&&_f(Lf,u))return u}return new Pf(!1)},Cf=pr("iterator"),Tf=!1;try{var Rf=0,If={next:function(){return{done:!!Rf++}},return:function(){Tf=!0}};If[Cf]=function(){return this},Array.from(If,(function(){throw 2}))}catch(t){}var Nf=function(t,e){if(!e&&!Tf)return!1;var n=!1;try{var r={};r[Cf]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Wf=Cc,Ff=Zc.CONSTRUCTOR||!Nf((function(t){Wf.all(t).then(void 0,(function(){}))})),zf=Wr,Hf=ti,Yf=Jc,Uf=Ac,Bf=Af;wu({target:"Promise",stat:!0,forced:Ff},{all:function(t){var e=this,n=Yf.f(e),r=n.resolve,i=n.reject,o=Uf((function(){var n=Hf(e.resolve),o=[],a=0,u=1;Bf(t,(function(t){var s=a++,c=!1;u++,zf(n,e,t).then((function(t){c||(c=!0,o[s]=t,--u||r(o))}),i)})),--u||r(o)}));return o.error&&i(o.value),n.promise}});var Gf=wu,Vf=Zc.CONSTRUCTOR,qf=Cc,Kf=Hr,Zf=wr,Jf=Io,Qf=qf&&qf.prototype;if(Gf({target:"Promise",proto:!0,forced:Vf,real:!0},{catch:function(t){return this.then(void 0,t)}}),Zf(qf)){var Xf=Kf("Promise").prototype.catch;Qf.catch!==Xf&&Jf(Qf,"catch",Xf,{unsafe:!0})}var th=Wr,eh=ti,nh=Jc,rh=Ac,ih=Af;wu({target:"Promise",stat:!0,forced:Ff},{race:function(t){var e=this,n=nh.f(e),r=n.reject,i=rh((function(){var i=eh(e.resolve);ih(t,(function(t){th(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var oh=Wr,ah=Jc;wu({target:"Promise",stat:!0,forced:Zc.CONSTRUCTOR},{reject:function(t){var e=ah.f(this);return oh(e.reject,void 0,t),e.promise}});var uh=Rr,sh=jr,ch=Jc,lh=wu,fh=Zc.CONSTRUCTOR,hh=function(t,e){if(uh(t),sh(e)&&e.constructor===t)return e;var n=ch.f(t);return(0,n.resolve)(e),n.promise};Hr("Promise"),lh({target:"Promise",stat:!0,forced:fh},{resolve:function(t){return hh(this,t)}});var dh={},ph=Ya,vh=Ua,yh=Object.keys||function(t){return ph(t,vh)},mh=Or,gh=Lr,bh=xr,wh=Rr,xh=ca,Oh=yh;dh.f=mh&&!gh?Object.defineProperties:function(t,e){wh(t);for(var n,r=xh(e),i=Oh(e),o=i.length,a=0;o>a;)bh.f(t,n=i[a++],r[n]);return t};var kh,Sh=Rr,jh=dh,_h=Ua,Mh=Xi,Dh=Es,Eh=Er,$h="prototype",Ph="script",Lh=Qi("IE_PROTO"),Ah=function(){},Ch=function(t){return"<"+Ph+">"+t+"</"+Ph+">"},Th=function(t){t.write(Ch("")),t.close();var e=t.parentWindow.Object;return t=null,e},Rh=function(){try{kh=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;Rh="undefined"!=typeof document?document.domain&&kh?Th(kh):(e=Eh("iframe"),n="java"+Ph+":",e.style.display="none",Dh.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(Ch("document.F=Object")),t.close(),t.F):Th(kh);for(var r=_h.length;r--;)delete Rh[$h][_h[r]];return Rh()};Mh[Lh]=!0;var Ih=Object.create||function(t,e){var n;return null!==t?(Ah[$h]=Sh(t),n=new Ah,Ah[$h]=null,n[Lh]=t):n=Rh(),void 0===e?n:jh.f(n,e)},Nh=pr,Wh=Ih,Fh=xr.f,zh=Nh("unscopables"),Hh=Array.prototype;null==Hh[zh]&&Fh(Hh,zh,{configurable:!0,value:Wh(null)});var Yh,Uh,Bh,Gh=function(t){Hh[zh][t]=!0},Vh=!jn((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),qh=zn,Kh=wr,Zh=Nn,Jh=Vh,Qh=Qi("IE_PROTO"),Xh=Object,td=Xh.prototype,ed=Jh?Xh.getPrototypeOf:function(t){var e=Zh(t);if(qh(e,Qh))return e[Qh];var n=e.constructor;return Kh(n)&&e instanceof n?n.prototype:e instanceof Xh?td:null},nd=jn,rd=wr,id=jr,od=ed,ad=Io,ud=pr("iterator"),sd=!1;[].keys&&("next"in(Bh=[].keys())?(Uh=od(od(Bh)))!==Object.prototype&&(Yh=Uh):sd=!0);var cd=!id(Yh)||nd((function(){var t={};return Yh[ud].call(t)!==t}));cd&&(Yh={}),rd(Yh[ud])||ad(Yh,ud,(function(){return this}));var ld={IteratorPrototype:Yh,BUGGY_SAFARI_ITERATORS:sd},fd=ld.IteratorPrototype,hd=Ih,dd=Gi,pd=Cu,vd=Jl,yd=function(){return this},md=wu,gd=Wr,bd=wr,wd=function(t,e,n,r){var i=e+" Iterator";return t.prototype=hd(fd,{next:dd(+!r,n)}),pd(t,i,!1),vd[i]=yd,t},xd=ed,Od=$u,kd=Cu,Sd=Ki,jd=Io,_d=Jl,Md=Ti.PROPER,Dd=Ti.CONFIGURABLE,Ed=ld.IteratorPrototype,$d=ld.BUGGY_SAFARI_ITERATORS,Pd=pr("iterator"),Ld="keys",Ad="values",Cd="entries",Td=function(){return this},Rd=function(t,e,n,r,i,o,a){wd(n,e,r);var u,s,c,l=function(t){if(t===i&&v)return v;if(!$d&&t in d)return d[t];switch(t){case Ld:case Ad:case Cd:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",h=!1,d=t.prototype,p=d[Pd]||d["@@iterator"]||i&&d[i],v=!$d&&p||l(i),y="Array"==e&&d.entries||p;if(y&&(u=xd(y.call(new t)))!==Object.prototype&&u.next&&(xd(u)!==Ed&&(Od?Od(u,Ed):bd(u[Pd])||jd(u,Pd,Td)),kd(u,f,!0)),Md&&i==Ad&&p&&p.name!==Ad&&(Dd?Sd(d,"name",Ad):(h=!0,v=function(){return gd(p,this)})),i)if(s={values:l(Ad),keys:o?v:l(Ld),entries:l(Cd)},a)for(c in s)($d||h||!(c in d))&&jd(d,c,s[c]);else md({target:e,proto:!0,forced:$d||h},s);return d[Pd]!==v&&jd(d,Pd,v,{name:i}),_d[e]=v,s},Id=function(t,e){return{value:t,done:e}},Nd=ca,Wd=Gh,Fd=Jl,zd=po,Hd=xr.f,Yd=Rd,Ud=Id,Bd=Or,Gd="Array Iterator",Vd=zd.set,qd=zd.getterFor(Gd),Kd=Yd(Array,"Array",(function(t,e){Vd(this,{type:Gd,target:Nd(t),index:0,kind:e})}),(function(){var t=qd(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,Ud(void 0,!0)):Ud("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values"),Zd=Fd.Arguments=Fd.Array;if(Wd("keys"),Wd("values"),Wd("entries"),Bd&&"values"!==Zd.name)try{Hd(Zd,"name",{value:"values"})}catch(t){}var Jd=Wr,Qd=ti,Xd=Jc,tp=Ac,ep=Af;wu({target:"Promise",stat:!0,forced:Ff},{allSettled:function(t){var e=this,n=Xd.f(e),r=n.resolve,i=n.reject,o=tp((function(){var n=Qd(e.resolve),i=[],o=0,a=1;ep(t,(function(t){var u=o++,s=!1;a++,Jd(n,e,t).then((function(t){s||(s=!0,i[u]={status:"fulfilled",value:t},--a||r(i))}),(function(t){s||(s=!0,i[u]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var np=qo,rp=String,ip=function(t){if("Symbol"===np(t))throw TypeError("Cannot convert a Symbol value to a string");return rp(t)},op=Pn,ap=ka,up=ip,sp=Tn,cp=op("".charAt),lp=op("".charCodeAt),fp=op("".slice),hp=function(t){return function(e,n){var r,i,o=up(sp(e)),a=ap(n),u=o.length;return a<0||a>=u?t?"":void 0:(r=lp(o,a))<55296||r>56319||a+1===u||(i=lp(o,a+1))<56320||i>57343?t?cp(o,a):r:t?fp(o,a,a+2):i-56320+(r-55296<<10)+65536}},dp={codeAt:hp(!1),charAt:hp(!0)},pp=dp.charAt,vp=ip,yp=po,mp=Rd,gp=Id,bp="String Iterator",wp=yp.set,xp=yp.getterFor(bp);mp(String,"String",(function(t){wp(this,{type:bp,string:vp(t),index:0})}),(function(){var t,e=xp(this),n=e.string,r=e.index;return r>=n.length?gp(void 0,!0):(t=pp(n,r),e.index+=t.length,gp(t,!1))}));var Op={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},kp=Er("span").classList,Sp=kp&&kp.constructor&&kp.constructor.prototype,jp=Sp===Object.prototype?void 0:Sp,_p=dn,Mp=Op,Dp=jp,Ep=Kd,$p=Ki,Pp=pr,Lp=Pp("iterator"),Ap=Pp("toStringTag"),Cp=Ep.values,Tp=function(t,e){if(t){if(t[Lp]!==Cp)try{$p(t,Lp,Cp)}catch(e){t[Lp]=Cp}if(t[Ap]||$p(t,Ap,e),Mp[e])for(var n in Ep)if(t[n]!==Ep[n])try{$p(t,n,Ep[n])}catch(e){t[n]=Ep[n]}}};for(var Rp in Mp)Tp(_p[Rp]&&_p[Rp].prototype,Rp);Tp(Dp,"DOMTokenList");var Ip=Nn,Np=Ma,Wp=La,Fp=function(t){for(var e=Ip(this),n=Wp(e),r=arguments.length,i=Np(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:Np(o,n);a>i;)e[i++]=t;return e},zp=Gh;wu({target:"Array",proto:!0},{fill:Fp}),zp("fill");var Hp=zo,Yp=Array.isArray||function(t){return"Array"==Hp(t)},Up=mi,Bp=xr,Gp=Gi,Vp=function(t,e,n){var r=Up(e);r in t?Bp.f(t,r,Gp(0,n)):t[r]=n},qp=jn,Kp=tr,Zp=pr("species"),Jp=function(t){return Kp>=51||!qp((function(){var e=[];return(e.constructor={})[Zp]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Qp=wu,Xp=Yp,tv=cs,ev=jr,nv=Ma,rv=La,iv=ca,ov=Vp,av=pr,uv=$s,sv=Jp("slice"),cv=av("species"),lv=Array,fv=Math.max;function hv(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))}function dv(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}Qp({target:"Array",proto:!0,forced:!sv},{slice:function(t,e){var n,r,i,o=iv(this),a=rv(o),u=nv(t,a),s=nv(void 0===e?a:e,a);if(Xp(o)&&(n=o.constructor,(tv(n)&&(n===lv||Xp(n.prototype))||ev(n)&&null===(n=n[cv]))&&(n=void 0),n===lv||void 0===n))return uv(o,u,s);for(r=new(void 0===n?lv:n)(fv(s-u,0)),i=0;u<s;u++,i++)u in o&&ov(r,i,o[u]);return r.length=i,r}});var pv={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var u=new i(r,o||t,a),s=n?n+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],u]:t._events[s].push(u):(t._events[s]=u,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function u(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},u.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},u.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},u.prototype.emit=function(t,e,r,i,o,a){var u=n?n+t:t;if(!this._events[u])return!1;var s,c,l=this._events[u],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,a),!0}for(c=1,s=new Array(f-1);c<f;c++)s[c-1]=arguments[c];l.fn.apply(l.context,s)}else{var h,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,r);break;case 4:l[c].fn.call(l[c].context,e,r,i);break;default:if(!s)for(h=1,s=new Array(f-1);h<f;h++)s[h-1]=arguments[h];l[c].fn.apply(l[c].context,s)}}return!0},u.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var u=this._events[o];if(u.fn)u.fn!==e||i&&!u.once||r&&u.context!==r||a(this,o);else{for(var s=0,c=[],l=u.length;s<l;s++)(u[s].fn!==e||i&&!u[s].once||r&&u[s].context!==r)&&c.push(u[s]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(pv);var vv=fn(pv.exports),yv=Array.isArray;function mv(){if(!arguments.length)return[];var t=arguments[0];return yv(t)?t:[t]}var gv=Yp,bv=cs,wv=jr,xv=pr("species"),Ov=Array,kv=function(t){var e;return gv(t)&&(e=t.constructor,(bv(e)&&(e===Ov||gv(e.prototype))||wv(e)&&null===(e=e[xv]))&&(e=void 0)),void 0===e?Ov:e},Sv=function(t,e){return new(kv(t))(0===e?0:e)},jv=Ds,_v=aa,Mv=Nn,Dv=La,Ev=Sv,$v=Pn([].push),Pv=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,u=5==t||o;return function(s,c,l,f){for(var h,d,p=Mv(s),v=_v(p),y=jv(c,l),m=Dv(v),g=0,b=f||Ev,w=e?b(s,m):n||a?b(s,0):void 0;m>g;g++)if((u||g in v)&&(d=y(h=v[g],g,p),t))if(e)w[g]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:$v(w,h)}else switch(t){case 4:return!1;case 7:$v(w,h)}return o?-1:r||i?i:w}},Lv={forEach:Pv(0),map:Pv(1),filter:Pv(2),some:Pv(3),every:Pv(4),find:Pv(5),findIndex:Pv(6),filterReject:Pv(7)},Av=Lv.map;wu({target:"Array",proto:!0,forced:!Jp("map")},{map:function(t){return Av(this,t,arguments.length>1?arguments[1]:void 0)}});var Cv=Or,Tv=Pn,Rv=Wr,Iv=jn,Nv=yh,Wv=Va,Fv=Qo,zv=Nn,Hv=aa,Yv=Object.assign,Uv=Object.defineProperty,Bv=Tv([].concat),Gv=!Yv||Iv((function(){if(Cv&&1!==Yv({b:1},Yv(Uv({},"a",{enumerable:!0,get:function(){Uv(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Yv({},t)[n]||Nv(Yv({},e)).join("")!=r}))?function(t,e){for(var n=zv(t),r=arguments.length,i=1,o=Wv.f,a=Fv.f;r>i;)for(var u,s=Hv(arguments[i++]),c=o?Bv(Nv(s),o(s)):Nv(s),l=c.length,f=0;l>f;)u=c[f++],Cv&&!Rv(a,s,u)||(n[u]=s[u]);return n}:Yv,Vv=Gv;wu({target:"Object",stat:!0,arity:2,forced:Object.assign!==Vv},{assign:Vv});var qv={exports:{}},Kv={},Zv=Ma,Jv=La,Qv=Vp,Xv=Array,ty=Math.max,ey=function(t,e,n){for(var r=Jv(t),i=Zv(e,r),o=Zv(void 0===n?r:n,r),a=Xv(ty(o-i,0)),u=0;i<o;i++,u++)Qv(a,u,t[i]);return a.length=u,a},ny=zo,ry=ca,iy=ba.f,oy=ey,ay="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Kv.f=function(t){return ay&&"Window"==ny(t)?function(t){try{return iy(t)}catch(t){return oy(ay)}}(t):iy(ry(t))};var uy=jn((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),sy=jn,cy=jr,ly=zo,fy=uy,hy=Object.isExtensible,dy=sy((function(){hy(1)}))||fy?function(t){return!!cy(t)&&((!fy||"ArrayBuffer"!=ly(t))&&(!hy||hy(t)))}:hy,py=!jn((function(){return Object.isExtensible(Object.preventExtensions({}))})),vy=wu,yy=Pn,my=Xi,gy=jr,by=zn,wy=xr.f,xy=ba,Oy=Kv,ky=dy,Sy=py,jy=!1,_y=Gn("meta"),My=0,Dy=function(t){wy(t,_y,{value:{objectID:"O"+My++,weakData:{}}})},Ey=qv.exports={enable:function(){Ey.enable=function(){},jy=!0;var t=xy.f,e=yy([].splice),n={};n[_y]=1,t(n).length&&(xy.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===_y){e(r,i,1);break}return r},vy({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Oy.f}))},fastKey:function(t,e){if(!gy(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!by(t,_y)){if(!ky(t))return"F";if(!e)return"E";Dy(t)}return t[_y].objectID},getWeakData:function(t,e){if(!by(t,_y)){if(!ky(t))return!0;if(!e)return!1;Dy(t)}return t[_y].weakData},onFreeze:function(t){return Sy&&jy&&ky(t)&&!by(t,_y)&&Dy(t),t}};my[_y]=!0;var $y=qv.exports,Py=wr,Ly=jr,Ay=$u,Cy=wu,Ty=dn,Ry=Pn,Iy=hu,Ny=Io,Wy=$y,Fy=Af,zy=Bu,Hy=wr,Yy=Ln,Uy=jr,By=jn,Gy=Nf,Vy=Cu,qy=function(t,e,n){var r,i;return Ay&&Py(r=e.constructor)&&r!==n&&Ly(i=r.prototype)&&i!==n.prototype&&Ay(t,i),t},Ky=function(t,e,n){var r=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),o=r?"set":"add",a=Ty[t],u=a&&a.prototype,s=a,c={},l=function(t){var e=Ry(u[t]);Ny(u,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!Uy(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return i&&!Uy(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!Uy(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(Iy(t,!Hy(a)||!(i||u.forEach&&!By((function(){(new a).entries().next()})))))s=n.getConstructor(e,t,r,o),Wy.enable();else if(Iy(t,!0)){var f=new s,h=f[o](i?{}:-0,1)!=f,d=By((function(){f.has(1)})),p=Gy((function(t){new a(t)})),v=!i&&By((function(){for(var t=new a,e=5;e--;)t[o](e,e);return!t.has(-0)}));p||((s=e((function(t,e){zy(t,u);var n=qy(new a,t,s);return Yy(e)||Fy(e,n[o],{that:n,AS_ENTRIES:r}),n}))).prototype=u,u.constructor=s),(d||v)&&(l("delete"),l("has"),r&&l("get")),(v||h)&&l(o),i&&u.clear&&delete u.clear}return c[t]=s,Cy({global:!0,constructor:!0,forced:s!=a},c),Vy(s,t),i||n.setStrong(s,t,r),s},Zy=Io,Jy=function(t,e,n){for(var r in e)Zy(t,r,e[r],n);return t},Qy=Pn,Xy=Jy,tm=$y.getWeakData,em=Bu,nm=Rr,rm=Ln,im=jr,om=Af,am=zn,um=po.set,sm=po.getterFor,cm=Lv.find,lm=Lv.findIndex,fm=Qy([].splice),hm=0,dm=function(t){return t.frozen||(t.frozen=new pm)},pm=function(){this.entries=[]},vm=function(t,e){return cm(t.entries,(function(t){return t[0]===e}))};pm.prototype={get:function(t){var e=vm(this,t);if(e)return e[1]},has:function(t){return!!vm(this,t)},set:function(t,e){var n=vm(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=lm(this.entries,(function(e){return e[0]===t}));return~e&&fm(this.entries,e,1),!!~e}};var ym,mm,gm={getConstructor:function(t,e,n,r){var i=t((function(t,i){em(t,o),um(t,{type:e,id:hm++,frozen:void 0}),rm(i)||om(i,t[r],{that:t,AS_ENTRIES:n})})),o=i.prototype,a=sm(e),u=function(t,e,n){var r=a(t),i=tm(nm(e),!0);return!0===i?dm(r).set(e,n):i[r.id]=n,t};return Xy(o,{delete:function(t){var e=a(this);if(!im(t))return!1;var n=tm(t);return!0===n?dm(e).delete(t):n&&am(n,e.id)&&delete n[e.id]},has:function(t){var e=a(this);if(!im(t))return!1;var n=tm(t);return!0===n?dm(e).has(t):n&&am(n,e.id)}}),Xy(o,n?{get:function(t){var e=a(this);if(im(t)){var n=tm(t);return!0===n?dm(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return u(this,t,e)}}:{add:function(t){return u(this,t,!0)}}),i}};Ky("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),gm),function(t){t[t.SCROLL_NONE=0]="SCROLL_NONE",t[t.SCROLL_BACKWARD=1]="SCROLL_BACKWARD",t[t.SCROLL_FORWARD=2]="SCROLL_FORWARD"}(ym||(ym={})),function(t){t[t.TOP=0]="TOP",t[t.RIGHT=1]="RIGHT",t[t.BOTTOM=2]="BOTTOM",t[t.LEFT=3]="LEFT"}(mm||(mm={}));var bm,wm,xm,Om="red",km=[0,100],Sm=function(){function t(e){en(this,t),bm.add(this),this.calendar=e,this.maxDomainReached=!1,this.minDomainReached=!1}return rn(t,[{key:"loadNewDomains",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ym.SCROLL_NONE,r=this.calendar.options.options,i=this.calendar.templateCollection,o=r.date.min?i.get(r.domain.type).extractUnit(+r.date.min):void 0,a=r.date.max?i.get(r.domain.type).extractUnit(+r.date.max):void 0,u=this.calendar.domainCollection;return dv(this,bm,"m",wm).call(this,t,o,a,n)?ym.SCROLL_NONE:(n!==ym.SCROLL_NONE&&t.clamp(o,a).slice(r.range,n===ym.SCROLL_FORWARD),u.merge(t,r.range,(function(n,o){var a=null;return a=t.at(o+1)?t.at(o+1):e.calendar.dateHelper.intervals(r.domain.type,n,2).pop(),i.get(r.subDomain.type).mapping(n,a).map((function(t){return Object.assign(Object.assign({},t),{v:r.data.defaultValue})}))})),dv(this,bm,"m",xm).call(this,u.min,u.max,o,a),n===ym.SCROLL_BACKWARD?this.calendar.eventEmitter.emit("domainsLoaded",[u.min]):n===ym.SCROLL_FORWARD&&this.calendar.eventEmitter.emit("domainsLoaded",[u.max]),n)}},{key:"jumpTo",value:function(t,e){var n=this.calendar,r=n.domainCollection,i=n.options,o=new Date(r.min),a=new Date(r.max);return t<o?this.loadNewDomains(this.calendar.createDomainCollection(t,o,!1),ym.SCROLL_BACKWARD):e?this.loadNewDomains(this.calendar.createDomainCollection(t,i.options.range),o<t?ym.SCROLL_FORWARD:ym.SCROLL_BACKWARD):t>a?this.loadNewDomains(this.calendar.createDomainCollection(a,t,!1),ym.SCROLL_FORWARD):ym.SCROLL_NONE}}]),t}();bm=new WeakSet,wm=function(t,e,n,r){return!!(n&&t.max>=n&&this.maxDomainReached&&r===ym.SCROLL_FORWARD)||!!(e&&t.min<=e&&this.minDomainReached&&r===ym.SCROLL_BACKWARD)},xm=function(t,e,n,r){if(n){var i=t<=n;this.calendar.eventEmitter.emit(i?"minDateReached":"minDateNotReached"),this.minDomainReached=i}if(r){var o=e>=r;this.calendar.eventEmitter.emit(o?"maxDateReached":"maxDateNotReached"),this.maxDomainReached=o}};var jm=TypeError,_m=wu,Mm=jn,Dm=Yp,Em=jr,$m=Nn,Pm=La,Lm=function(t){if(t>9007199254740991)throw jm("Maximum allowed index exceeded");return t},Am=Vp,Cm=Sv,Tm=Jp,Rm=tr,Im=pr("isConcatSpreadable"),Nm=Rm>=51||!Mm((function(){var t=[];return t[Im]=!1,t.concat()[0]!==t})),Wm=function(t){if(!Em(t))return!1;var e=t[Im];return void 0!==e?!!e:Dm(t)};_m({target:"Array",proto:!0,arity:1,forced:!Nm||!Tm("concat")},{concat:function(t){var e,n,r,i,o,a=$m(this),u=Cm(a,0),s=0;for(e=-1,r=arguments.length;e<r;e++)if(Wm(o=-1===e?a:arguments[e]))for(i=Pm(o),Lm(s+i),n=0;n<i;n++,s++)n in o&&Am(u,s,o[n]);else Lm(s+1),Am(u,s++,o);return u.length=s,u}});var Fm=jn,zm=function(t,e){var n=[][t];return!!n&&Fm((function(){n.call(null,e||function(){return 1},1)}))},Hm=wu,Ym=aa,Um=ca,Bm=zm,Gm=Pn([].join);Hm({target:"Array",proto:!0,forced:Ym!=Object||!Bm("join",",")},{join:function(t){return Gm(Um(this),void 0===t?",":t)}});var Vm=Ih,qm=Iu,Km=Jy,Zm=Ds,Jm=Bu,Qm=Ln,Xm=Af,tg=Rd,eg=Id,ng=Hu,rg=Or,ig=$y.fastKey,og=po.set,ag=po.getterFor,ug={getConstructor:function(t,e,n,r){var i=t((function(t,i){Jm(t,o),og(t,{type:e,index:Vm(null),first:void 0,last:void 0,size:0}),rg||(t.size=0),Qm(i)||Xm(i,t[r],{that:t,AS_ENTRIES:n})})),o=i.prototype,a=ag(e),u=function(t,e,n){var r,i,o=a(t),u=s(t,e);return u?u.value=n:(o.last=u={index:i=ig(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=u),r&&(r.next=u),rg?o.size++:t.size++,"F"!==i&&(o.index[i]=u)),t},s=function(t,e){var n,r=a(t),i=ig(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Km(o,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,rg?t.size=0:this.size=0},delete:function(t){var e=this,n=a(e),r=s(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),rg?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=a(this),r=Zm(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!s(this,t)}}),Km(o,n?{get:function(t){var e=s(this,t);return e&&e.value},set:function(t,e){return u(this,0===t?0:t,e)}}:{add:function(t){return u(this,t=0===t?0:t,t)}}),rg&&qm(o,"size",{configurable:!0,get:function(){return a(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",i=ag(e),o=ag(r);tg(t,e,(function(t,e){og(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?eg("keys"==e?n.key:"values"==e?n.value:[n.key,n.value],!1):(t.target=void 0,eg(void 0,!0))}),n?"entries":"values",!n,!0),ng(e)}};Ky("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),ug);var sg=Zr,cg=TypeError,lg=ey,fg=Math.floor,hg=function(t,e){var n=t.length,r=fg(n/2);return n<8?dg(t,e):pg(t,hg(lg(t,0,r),e),hg(lg(t,r),e),e)},dg=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},pg=function(t,e,n,r){for(var i=e.length,o=n.length,a=0,u=0;a<i||u<o;)t[a+u]=a<i&&u<o?r(e[a],n[u])<=0?e[a++]:n[u++]:a<i?e[a++]:n[u++];return t},vg=hg,yg=Vn.match(/firefox\/(\d+)/i),mg=!!yg&&+yg[1],gg=/MSIE|Trident/.test(Vn),bg=Vn.match(/AppleWebKit\/(\d+)\./),wg=!!bg&&+bg[1],xg=wu,Og=Pn,kg=ti,Sg=Nn,jg=La,_g=function(t,e){if(!delete t[e])throw cg("Cannot delete property "+sg(e)+" of "+sg(t))},Mg=ip,Dg=jn,Eg=vg,$g=zm,Pg=mg,Lg=gg,Ag=tr,Cg=wg,Tg=[],Rg=Og(Tg.sort),Ig=Og(Tg.push),Ng=Dg((function(){Tg.sort(void 0)})),Wg=Dg((function(){Tg.sort(null)})),Fg=$g("sort"),zg=!Dg((function(){if(Ag)return Ag<70;if(!(Pg&&Pg>3)){if(Lg)return!0;if(Cg)return Cg<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)Tg.push({k:e+r,v:n})}for(Tg.sort((function(t,e){return e.v-t.v})),r=0;r<Tg.length;r++)e=Tg[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));xg({target:"Array",proto:!0,forced:Ng||!Wg||!Fg||!zg},{sort:function(t){void 0!==t&&kg(t);var e=Sg(this);if(zg)return void 0===t?Rg(e):Rg(e,t);var n,r,i=[],o=jg(e);for(r=0;r<o;r++)r in e&&Ig(i,e[r]);for(Eg(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:Mg(e)>Mg(n)?1:-1}}(t)),n=jg(i),r=0;r<n;)e[r]=i[r++];for(;r<o;)_g(e,r++);return e}});var Hg,Yg,Ug,Bg=Lv.forEach,Gg=dn,Vg=Op,qg=jp,Kg=zm("forEach")?[].forEach:function(t){return Bg(this,t,arguments.length>1?arguments[1]:void 0)},Zg=Ki,Jg=function(t){if(t&&t.forEach!==Kg)try{Zg(t,"forEach",Kg)}catch(e){t.forEach=Kg}};for(var Qg in Vg)Vg[Qg]&&Jg(Gg[Qg]&&Gg[Qg].prototype);function Xg(t){return"top"===t||"bottom"===t}function tb(t){return t[mm.LEFT]+t[mm.RIGHT]}function eb(t){return t[mm.TOP]+t[mm.BOTTOM]}Jg(qg);var nb,rb,ib=function(){function t(e,n){en(this,t),Hg.add(this),this.calendar=e,this.domainPainter=n,this.collection=new Map,this.scrollDirection=ym.SCROLL_FORWARD}return rn(t,[{key:"get",value:function(t){return this.collection.get(t)}},{key:"update",value:function(t,e){var n=this,r=this.calendar.options.options,i=r.verticalOrientation,o=r.domain;this.scrollDirection=e;var a={width:0,height:0},u=0,s=e===ym.SCROLL_FORWARD?-1:1,c=t.keys;return"desc"===this.calendar.options.options.domain.sort&&(c.reverse(),s*=-1),t.yankedDomains.forEach((function(t){u+=n.collection.get(t)[i?"height":"width"]})),t.yankedDomains.forEach((function(t){var e=n.collection.get(t);n.collection.set(t,Object.assign(Object.assign({},e),{x:i?e.x:e.x+u*s,y:i?e.y+u*s:e.y}))})),c.forEach((function(t){var e=dv(n,Hg,"m",Yg).call(n,t),r=dv(n,Hg,"m",Ug).call(n,t);i?(a.height+=r,a.width=Math.max(e,a.width)):(a.width+=e,a.height=Math.max(r,a.height));var c=a.width-e,l=a.height-r;n.collection.set(t,Object.assign(Object.assign({},n.collection.get(t)),{x:i?0:c,y:i?l:0,pre_x:i?c:c-u*s,pre_y:i?l-u*s:l,width:e,height:r,inner_width:e-(i?0:o.gutter),inner_height:r-(i?o.gutter:0)}))})),a}}]),t}();Hg=new WeakSet,Yg=function(t){var e=this.calendar.options.options,n=e.domain,r=e.subDomain,i=e.x,o=e.verticalOrientation,a=this.calendar.templateCollection.get(r.type).columnsCount(t),u=(r.width+r.gutter)*a-r.gutter;return tb(n.padding)+i.domainHorizontalLabelWidth+(o?0:n.gutter)+u},Ug=function(t){var e=this.calendar.options.options,n=e.domain,r=e.subDomain,i=e.x,o=e.verticalOrientation,a=this.calendar.templateCollection.get(r.type).rowsCount(t),u=(r.height+r.gutter)*a-r.gutter;return eb(n.padding)+u+(o?n.gutter:0)+i.domainVerticalLabelHeight};var ob=".ch-domain",ab=function(){function t(e){en(this,t),nb.add(this),this.calendar=e,this.coordinates=new ib(e,this),this.root=null,this.dimensions={width:0,height:0}}return rn(t,[{key:"paint",value:function(t,e){var n=this,r=this.calendar.options.options.animationDuration,i=e.transition().duration(r),o=this.coordinates;this.dimensions=o.update(this.calendar.domainCollection,t);var a=[];return this.root=e.selectAll(ob).data(this.calendar.domainCollection.keys,(function(t){return t})).join((function(t){return t.append("svg").attr("x",(function(t){return o.get(t).pre_x})).attr("y",(function(t){return o.get(t).pre_y})).attr("width",(function(t){return o.get(t).inner_width})).attr("height",(function(t){return o.get(t).inner_height})).attr("class",(function(t){return dv(n,nb,"m",rb).call(n,t)})).call((function(t){return t.append("rect").attr("width",(function(t){return o.get(t).inner_width})).attr("height",(function(t){return o.get(t).inner_height})).attr("class","".concat(ob.slice(1),"-bg"))})).call((function(t){return a.push(t.transition(i).attr("x",(function(t){return o.get(t).x})).attr("y",(function(t){return o.get(t).y})).end())}))}),(function(t){return t.call((function(t){return a.push(t.transition(i).attr("x",(function(t){return o.get(t).x})).attr("y",(function(t){return o.get(t).y})).attr("width",(function(t){return o.get(t).inner_width})).attr("height",(function(t){return o.get(t).inner_height})).end())})).call((function(t){return a.push(t.selectAll("".concat(ob,"-bg")).transition(i).attr("width",(function(t){return o.get(t).inner_width})).attr("height",(function(t){return o.get(t).inner_height})).end())}))}),(function(t){return t.call((function(t){return a.push(t.transition(i).attr("x",(function(t){return o.get(t).x})).attr("y",(function(t){return o.get(t).y})).remove().end())}))})),a}}]),t}();nb=new WeakSet,rb=function(t){var e=ob.slice(1),n=this.calendar.dateHelper.date(t);switch(this.calendar.options.options.domain.type){case"hour":e+=" h_".concat(n.hour());break;case"day":e+=" d_".concat(n.date()," dy_").concat(n.format("d")+1);break;case"week":e+=" w_".concat(n.week());break;case"month":e+=" m_".concat(n.month()+1);break;case"year":e+=" y_".concat(n.year())}return e};var ub=Ia.includes,sb=Gh;wu({target:"Array",proto:!0,forced:jn((function(){return!Array(1).includes()}))},{includes:function(t){return ub(this,t,arguments.length>1?arguments[1]:void 0)}}),sb("includes");var cb=Lv.filter;wu({target:"Array",proto:!0,forced:!Jp("filter")},{filter:function(t){return cb(this,t,arguments.length>1?arguments[1]:void 0)}});var lb=ti,fb=Nn,hb=aa,db=La,pb=TypeError,vb=function(t){return function(e,n,r,i){lb(n);var o=fb(e),a=hb(o),u=db(o),s=t?u-1:0,c=t?-1:1;if(r<2)for(;;){if(s in a){i=a[s],s+=c;break}if(s+=c,t?s<0:u<=s)throw pb("Reduce of empty array with no initial value")}for(;t?s>=0:u>s;s+=c)s in a&&(i=n(i,a[s],s,o));return i}},yb={left:vb(!1),right:vb(!0)}.left;wu({target:"Array",proto:!0,forced:!xu&&tr>79&&tr<83||!zm("reduce")},{reduce:function(t){var e=arguments.length;return yb(this,t,e,e>1?arguments[1]:void 0)}});var mb=Rr,gb=bf,bb=Ds,wb=Wr,xb=Nn,Ob=function(t,e,n,r){try{return r?e(mb(n)[0],n[1]):e(n)}catch(e){gb(t,"throw",e)}},kb=ef,Sb=cs,jb=La,_b=Vp,Mb=vf,Db=sf,Eb=Array,$b=function(t){var e=xb(t),n=Sb(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=bb(i,r>2?arguments[2]:void 0));var a,u,s,c,l,f,h=Db(e),d=0;if(!h||this===Eb&&kb(h))for(a=jb(e),u=n?new this(a):Eb(a);a>d;d++)f=o?i(e[d],d):e[d],_b(u,d,f);else for(l=(c=Mb(e,h)).next,u=n?new this:[];!(s=wb(l,c)).done;d++)f=o?Ob(c,i,[s.value,d],!0):s.value,_b(u,d,f);return u.length=d,u};wu({target:"Array",stat:!0,forced:!Nf((function(t){Array.from(t)}))},{from:$b});var Pb,Lb,Ab,Cb,Tb="\t\n\v\f\r                　\u2028\u2029\ufeff",Rb=Tn,Ib=ip,Nb=Tb,Wb=Pn("".replace),Fb=RegExp("^["+Nb+"]+"),zb=RegExp("(^|[^"+Nb+"])["+Nb+"]+$"),Hb=function(t){return function(e){var n=Ib(Rb(e));return 1&t&&(n=Wb(n,Fb,"")),2&t&&(n=Wb(n,zb,"$1")),n}},Yb={start:Hb(1),end:Hb(2),trim:Hb(3)},Ub=dn,Bb=jn,Gb=Pn,Vb=ip,qb=Yb.trim,Kb=Tb,Zb=Ub.parseInt,Jb=Ub.Symbol,Qb=Jb&&Jb.iterator,Xb=/^[+-]?0x/i,tw=Gb(Xb.exec),ew=8!==Zb(Kb+"08")||22!==Zb(Kb+"0x16")||Qb&&!Bb((function(){Zb(Object(Qb))}))?function(t,e){var n=qb(Vb(t));return Zb(n,e>>>0||(tw(Xb,n)?16:10))}:Zb;wu({global:!0,forced:parseInt!=ew},{parseInt:ew});var nw,rw,iw,ow,aw,uw,sw,cw={year:"YYYY",month:"MMMM",week:"wo [week] YYYY",xDay:"Do MMM",ghDay:"Do MMM",day:"Do MMM",hour:"HH:00",minute:"HH:mm"},lw=function(){function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(en(this,t),Pb.add(this),this.collection=new Map,this.dateHelper=e,n&&r&&i){var a=this.dateHelper.intervals(n,r,i,o).map((function(t){return mv(t)}));this.collection=new Map(a)}this.min=0,this.max=0,this.keys=[],this.yankedDomains=[],this.collection.size>0&&dv(this,Pb,"m",Cb).call(this)}return rn(t,[{key:"has",value:function(t){return this.collection.has(t)}},{key:"get",value:function(t){return this.collection.get(t)}},{key:"forEach",value:function(t){return this.collection.forEach(t)}},{key:"at",value:function(t){return this.keys[t]}},{key:"clamp",value:function(t,e){var n=this;return t&&this.min<t&&this.keys.filter((function(e){return e<t})).forEach((function(t){return n.collection.delete(t)})),e&&this.max>e&&this.keys.filter((function(t){return t>e})).forEach((function(t){return n.collection.delete(t)})),dv(this,Pb,"m",Cb).call(this),this}},{key:"merge",value:function(t,e,n){var r=this;this.yankedDomains=[],t.keys.forEach((function(t,i){if(!r.has(t)){if(r.collection.size>=e){var o=r.max;t>r.max&&(o=r.min),o&&r.collection.delete(o)&&r.yankedDomains.push(o)}r.collection.set(t,n(t,i)),dv(r,Pb,"m",Cb).call(r)}})),this.yankedDomains=this.yankedDomains.sort((function(t,e){return t-e}))}},{key:"slice",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.keys.length>e&&((n?this.keys.slice(0,-e):this.keys.slice(e)).forEach((function(e){t.collection.delete(e)})),dv(this,Pb,"m",Cb).call(this));return this}},{key:"fill",value:function(t,e,n){var r=this,i=e.x,o=e.y,a=e.groupY,u=e.defaultValue,s=this.groupRecords(t,i,n);this.keys.forEach((function(t){var e=s.get(t)||{};dv(r,Pb,"m",Lb).call(r,t,e,o,a,u)}))}},{key:"groupRecords",value:function(t,e,n){var r=this,i=new Map,o=new Map;return this.keys.forEach((function(t){r.get(t).forEach((function(e){o.set(e.t,t)}))})),t.forEach((function(t){var a=r.extractTimestamp(t,e,n);if(o.has(a)){var u=o.get(a),s=i.get(u)||{};s[a]||(s[a]=[]),s[a].push(t),i.set(u,s)}})),i}},{key:"groupValues",value:function(t,e){var n=t.filter((function(t){return null!==t}));if("string"==typeof e){if(n.every((function(t){return"number"==typeof t})))switch(e){case"sum":return n.reduce((function(t,e){return t+e}),0);case"count":return n.length;case"min":return Math.min.apply(Math,an(n))||null;case"max":return Math.max.apply(Math,an(n))||null;case"average":return n.length>0?n.reduce((function(t,e){return t+e}),0)/n.length:null;default:return null}return"count"===e?n.length:null}return"function"==typeof e?e(n):null}},{key:"extractTimestamp",value:function(t,e,n){var r="function"==typeof e?e(t):t[e];return"string"==typeof r&&(r=+new Date(r)),n(r)}}]),t}();Pb=new WeakSet,Lb=function(t,e,n,r,i){var o=this;this.get(t).forEach((function(a,u){var s=i;e.hasOwnProperty(a.t)&&(s=o.groupValues(dv(o,Pb,"m",Ab).call(o,e[a.t],n),r)),o.get(t)[u].v=s}))},Ab=function(t,e){return t.map((function(t){return"function"==typeof e?e(t):t[e]}))},Cb=function(){this.keys=Array.from(this.collection.keys()).map((function(t){return parseInt(t,10)})).sort((function(t,e){return t-e}));var t=this.keys;return this.min=t[0],this.max=t[t.length-1],this.keys};var fw=".ch-domain-text",hw=function(){function t(e){en(this,t),nw.add(this),this.calendar=e}return rn(t,[{key:"paint",value:function(t){var e=this,n=this.calendar.options.options.domain,r=n.label,i=n.type,o=this.calendar.dateHelper,a=r.text;null!==a&&""!==a&&(void 0===a&&(a=cw[i]),t.selectAll(fw).data((function(t){return[t]}),(function(t){return t})).join((function(t){return t.append("text").attr("class",fw.slice(1)).attr("x",(function(t){return dv(e,nw,"m",iw).call(e,t)})).attr("y",(function(t){return dv(e,nw,"m",ow).call(e,t)})).attr("text-anchor",r.textAlign).attr("dominant-baseline",(function(){return dv(e,nw,"m",rw).call(e)})).text((function(t,e,n){return o.format(t,a,n[e])})).call((function(t){return dv(e,nw,"m",sw).call(e,t)}))}),(function(t){t.attr("x",(function(t){return dv(e,nw,"m",iw).call(e,t)})).attr("y",(function(t){return dv(e,nw,"m",ow).call(e,t)})).attr("text-anchor",r.textAlign).attr("dominant-baseline",(function(){return dv(e,nw,"m",rw).call(e)})).text((function(t,e,n){return o.format(t,a,n[e])})).call((function(t){return dv(e,nw,"m",sw).call(e,t)}))})))}}]),t}();nw=new WeakSet,rw=function(){var t=this.calendar.options.options.domain.label,e=t.position,n=t.rotate;return Xg(e)?"middle":"left"===n&&"left"===e||"right"===n&&"right"===e?"bottom":"hanging"},iw=function(t){var e=this.calendar.options.options.domain,n=e.padding,r=e.label,i=r.position,o=r.textAlign,a=r.offset,u=this.calendar.options.options.x.domainHorizontalLabelWidth,s=n[mm.LEFT];return"right"===i&&(s+=dv(this,nw,"m",aw).call(this,t)),"middle"===o&&(["top","bottom"].includes(i)?s+=dv(this,nw,"m",aw).call(this,t)/2:s+=u/2),"end"===o&&(Xg(i)?s+=dv(this,nw,"m",aw).call(this,t):s+=u),s+a.x},ow=function(t){var e=this.calendar.options.options,n=e.domain,r=n.label,i=r.position,o=r.offset,a=n.padding,u=e.x,s=a[mm.TOP]+u.domainVerticalLabelHeight/2;return"bottom"===i&&(s+=dv(this,nw,"m",uw).call(this,t)),s+o.y},aw=function(t){var e=this.calendar.options.options,n=e.domain.padding,r=e.x.domainHorizontalLabelWidth;return this.calendar.calendarPainter.domainsContainerPainter.domainPainter.coordinates.get(t).inner_width-r-tb(n)},uw=function(t){var e=this.calendar.options.options,n=e.x.domainVerticalLabelHeight,r=e.domain.padding;return this.calendar.calendarPainter.domainsContainerPainter.domainPainter.coordinates.get(t).inner_height-n-eb(r)},sw=function(t){var e=this,n=this.calendar.options.options,r=n.domain.label,i=r.rotate,o=r.textAlign,a=r.position,u=n.x.domainHorizontalLabelWidth;switch(i){case"right":t.attr("transform",(function(t){var n=dv(e,nw,"m",aw).call(e,t),r=dv(e,nw,"m",uw).call(e,t),i=["rotate(90, ".concat("right"===a?n:u,", 0)")];switch(a){case"right":"middle"===o?i.push("translate(".concat(r/2-u/2,")")):"end"===o&&i.push("translate(".concat(r-u,")"));break;case"left":"start"===o?i.push("translate(".concat(u,")")):"middle"===o?i.push("translate(".concat(u/2+r/2,")")):"end"===o&&i.push("translate(".concat(r,")"))}return i.join(",")}));break;case"left":t.attr("transform",(function(t){var n=dv(e,nw,"m",aw).call(e,t),r=dv(e,nw,"m",uw).call(e,t),i=["rotate(270, ".concat("right"===a?n:u,", 0)")];switch(a){case"right":"start"===o?i.push("translate(-".concat(r,")")):"middle"===o?i.push("translate(-".concat(r/2+u/2,")")):"end"===o&&i.push("translate(-".concat(u,")"));break;case"left":"start"===o?i.push("translate(".concat(u-r,")")):"middle"===o&&i.push("translate(".concat(u/2-r/2,")"))}return i.join(",")}))}};var dw,pw,vw,yw,mw,gw,bw,ww=Ti.PROPER,xw=jn,Ow=Tb,kw=Yb.trim;wu({target:"String",proto:!0,forced:function(t){return xw((function(){return!!Ow[t]()||"​᠎"!=="​᠎"[t]()||ww&&Ow[t].name!==t}))}("trim")},{trim:function(){return kw(this)}});var Sw,jw,_w,Mw,Dw=".ch-subdomain",Ew=function(){function t(e){en(this,t),dw.add(this),this.calendar=e,this.root=null}return rn(t,[{key:"paint",value:function(t){var e=this;this.root=t||this.root;var n="".concat(Dw,"-container"),r=this.root.selectAll(n).data((function(t){return[t]}),(function(t){return t})).join((function(t){return t.append("svg").call((function(t){return dv(e,dw,"m",pw).call(e,t)})).attr("class",n.slice(1))}),(function(t){return t.call((function(t){return dv(e,dw,"m",pw).call(e,t)}))})),i=this.calendar.options.options.subDomain,o=i.radius,a=i.width,u=i.height,s=i.sort,c=this.calendar.eventEmitter;r.selectAll("g").data((function(t){var n=e.calendar.domainCollection.get(t);if("desc"===s){var r=Math.max.apply(Math,an(n.map((function(t){return t.x}))));n.forEach((function(t,e){n[e].x=Math.abs(t.x-r)}))}return n})).join((function(t){return t.append("g").call((function(t){return t.insert("rect").attr("class",(function(t){return dv(e,dw,"m",vw).call(e,t.t,"".concat(Dw.slice(1),"-bg"))})).attr("width",a).attr("height",u).attr("x",(function(t){return dv(e,dw,"m",gw).call(e,t)})).attr("y",(function(t){return dv(e,dw,"m",bw).call(e,t)})).on("click",(function(t,e){return c.emit("click",t,e.t,e.v)})).on("mouseover",(function(t,e){return c.emit("mouseover",t,e.t,e.v)})).on("mouseout",(function(t,e){return c.emit("mouseout",t,e.t,e.v)})).attr("rx",o>0?o:null).attr("ry",o>0?o:null)})).call((function(t){return dv(e,dw,"m",yw).call(e,t)}))}),(function(t){return t.selectAll("rect").attr("class",(function(t){return dv(e,dw,"m",vw).call(e,t.t,"".concat(Dw.slice(1),"-bg"))})).attr("width",a).attr("height",u).attr("x",(function(t){return dv(e,dw,"m",gw).call(e,t)})).attr("y",(function(t){return dv(e,dw,"m",bw).call(e,t)})).attr("rx",o).attr("ry",o)}))}}]),t}();dw=new WeakSet,pw=function(t){var e=this.calendar.options.options,n=e.domain,r=n.padding,i=n.label.position;t.attr("x",(function(){var t=r[mm.LEFT];return"left"===i&&(t+=e.x.domainHorizontalLabelWidth),t})).attr("y",(function(){var t=r[mm.TOP];return"top"===i&&(t+=e.x.domainVerticalLabelHeight),t}))},vw=function(t){var e=this,n=this.calendar.options.options,r=n.date.highlight,i=n.subDomain.type,o="";r.length>0&&r.forEach((function(n){var r=e.calendar.templateCollection.get(i).extractUnit;r(+n)===r(t)&&(o="highlight")}));for(var a=arguments.length,u=new Array(a>1?a-1:0),s=1;s<a;s++)u[s-1]=arguments[s];return[o].concat(u).join(" ").trim()},yw=function(t){var e=this,n=this.calendar.options.options.subDomain,r=n.width,i=n.height,o=n.label;return o?t.append("text").attr("class",(function(t){return dv(e,dw,"m",vw).call(e,t.t,"".concat(Dw.slice(1),"-text"))})).attr("x",(function(t){return dv(e,dw,"m",gw).call(e,t)+r/2})).attr("y",(function(t){return dv(e,dw,"m",bw).call(e,t)+i/2})).attr("text-anchor","middle").attr("dominant-baseline","central").text((function(t,n,r){return e.calendar.dateHelper.format(t.t,o,t.v,r[n])})):null},mw=function(t,e){var n=this.calendar.options.options.subDomain;return e[t]*(n["x"===t?"width":"height"]+n.gutter)},gw=function(t){return dv(this,dw,"m",mw).call(this,"x",t)},bw=function(t){return dv(this,dw,"m",mw).call(this,"y",t)};var $w=".ch-domain-container",Pw="in-transition",Lw=function(){function e(t){en(this,e),Sw.add(this),this.calendar=t,this.domainPainter=new ab(t),this.subDomainPainter=new Ew(t),this.domainLabelPainter=new hw(t),this.dimensions={width:0,height:0},this.transitionsQueueCount=0}return rn(e,[{key:"setup",value:function(){this.root=this.calendar.calendarPainter.root.attr("x",0).attr("y",0).append("svg").attr("class",$w.slice(1)).append("svg").attr("class","".concat($w.slice(1),"-animation-wrapper"))}},{key:"paint",value:function(t){var e=this;dv(this,Sw,"m",jw).call(this);var n=this.domainPainter.paint(t,this.root);return this.subDomainPainter.paint(this.domainPainter.root),this.domainLabelPainter.paint(this.domainPainter.root),dv(this,Sw,"m",Mw).call(this),Promise.allSettled(n).then((function(){dv(e,Sw,"m",_w).call(e)})),n}},{key:"updatePosition",value:function(){var e;if(!(null===(e=this.root)||void 0===e?void 0:e.node()))return Promise.resolve();var n=this.calendar.options.options.animationDuration,r=this.calendar.pluginManager.getHeightFromPosition("top"),i=this.calendar.pluginManager.getWidthFromPosition("left");return[t(this.root.node().parentNode).transition().duration(n).call((function(t){t.attr("x",i).attr("y",r)})).end()]}},{key:"width",value:function(){return this.dimensions.width}},{key:"height",value:function(){return this.dimensions.height}},{key:"destroy",value:function(){return dv(this,Sw,"m",jw).call(this),Promise.resolve()}}]),e}();Sw=new WeakSet,jw=function(){var e;(null===(e=this.root)||void 0===e?void 0:e.node())&&(this.transitionsQueueCount+=1,t(this.root.node().parentNode).classed(Pw,!0))},_w=function(){var e;(null===(e=this.root)||void 0===e?void 0:e.node())&&(this.transitionsQueueCount-=1,0===this.transitionsQueueCount&&t(this.root.node().parentNode).classed(Pw,!1))},Mw=function(){var t=this.calendar.options.options,e=t.animationDuration,n=t.verticalOrientation,r=t.domain.gutter,i=this.domainPainter.dimensions;this.dimensions={width:i.width-(n?0:r),height:i.height-(n?r:0)},this.root.transition().duration(e).attr("width",this.dimensions.width).attr("height",this.dimensions.height)};var Aw,Cw,Tw,Rw,Iw=function(){function t(e){en(this,t),this.calendar=e}return rn(t,[{key:"paint",value:function(){var t=[];return t=(t=t.concat(this.calendar.pluginManager.paintAll())).concat(this.setPluginsPosition())}},{key:"setPluginsPosition",value:function(){var t=this.calendar.pluginManager,e=this.calendar.options.options.animationDuration,n=this.calendar.calendarPainter.domainsContainerPainter,r=t.getFromPosition("top"),i=t.getFromPosition("right"),o=t.getFromPosition("bottom"),a=t.getFromPosition("left"),u=t.getHeightFromPosition("top"),s=t.getWidthFromPosition("left"),c=[],l=0;r.forEach((function(t){c.push(t.root.transition().duration(e).attr("y",l).attr("x",s).end()),l+=t.options.dimensions.height}));var f=0;return a.forEach((function(t){c.push(t.root.transition().duration(e).attr("x",f).attr("y",u).end()),f+=t.options.dimensions.width})),o.forEach((function(t){c.push(t.root.transition().duration(e).attr("x",s).attr("y",u+n.height()).end())})),f+=n.width(),i.forEach((function(t){c.push(t.root.transition().duration(e).attr("x",f).attr("y",u).end()),f+=t.options.dimensions.width})),c}},{key:"insideWidth",value:function(){return this.calendar.pluginManager.getWidthFromPosition("left")+this.calendar.pluginManager.getWidthFromPosition("right")}},{key:"insideHeight",value:function(){return this.calendar.pluginManager.getHeightFromPosition("top")+this.calendar.pluginManager.getHeightFromPosition("bottom")}}]),t}(),Nw=function(){function e(t){en(this,e),Aw.add(this),this.calendar=t,this.dimensions={width:0,height:0},this.root=null,this.domainsContainerPainter=new Lw(t),this.pluginPainter=new Iw(t)}return rn(e,[{key:"setup",value:function(){var e=this.calendar.options.options,n=e.itemSelector,r=e.theme;return this.root||(this.root=t(n).append("svg").attr("data-theme",r).attr("class",".ch-container".slice(1)),this.domainsContainerPainter.setup()),this.calendar.pluginManager.setupAll(),!0}},{key:"paint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ym.SCROLL_NONE,e=this.domainsContainerPainter.paint(t).concat(this.pluginPainter.paint()).concat(this.domainsContainerPainter.updatePosition());return dv(this,Aw,"m",Rw).call(this),Promise.allSettled(e)}},{key:"destroy",value:function(){var t=this.calendar.pluginManager.destroyAll().concat(this.domainsContainerPainter.destroy());return this.root?(t.push(this.root.transition().duration(this.calendar.options.options.animationDuration).attr("width",0).attr("height",0).remove().end()),Promise.allSettled(t)):Promise.allSettled(t)}}]),e}();Aw=new WeakSet,Cw=function(){return this.domainsContainerPainter.height()+this.pluginPainter.insideHeight()},Tw=function(){return this.domainsContainerPainter.width()+this.pluginPainter.insideWidth()},Rw=function(){var t=this.calendar.options.options,e=dv(this,Aw,"m",Tw).call(this),n=dv(this,Aw,"m",Cw).call(this);this.root.transition().duration(t.animationDuration).attr("width",e).attr("height",n),e===this.dimensions.width&&n===this.dimensions.height||this.calendar.eventEmitter.emit("resize",e,n,this.dimensions.width,this.dimensions.height),this.dimensions={width:e,height:n}};var Ww="object"==typeof global&&global&&global.Object===Object&&global,Fw="object"==typeof self&&self&&self.Object===Object&&self,zw=Ww||Fw||Function("return this")(),Hw=zw.Symbol,Yw=Object.prototype,Uw=Yw.hasOwnProperty,Bw=Yw.toString,Gw=Hw?Hw.toStringTag:void 0;var Vw=Object.prototype.toString;var qw="[object Null]",Kw="[object Undefined]",Zw=Hw?Hw.toStringTag:void 0;function Jw(t){return null==t?void 0===t?Kw:qw:Zw&&Zw in Object(t)?function(t){var e=Uw.call(t,Gw),n=t[Gw];try{t[Gw]=void 0;var r=!0}catch(t){}var i=Bw.call(t);return r&&(e?t[Gw]=n:delete t[Gw]),i}(t):function(t){return Vw.call(t)}(t)}function Qw(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var Xw="[object AsyncFunction]",tx="[object Function]",ex="[object GeneratorFunction]",nx="[object Proxy]";function rx(t){if(!Qw(t))return!1;var e=Jw(t);return e==tx||e==ex||e==Xw||e==nx}var ix=Nn,ox=yh;wu({target:"Object",stat:!0,forced:jn((function(){ox(1)}))},{keys:function(t){return ox(ix(t))}});var ax,ux=jr,sx=zo,cx=pr("match"),lx=function(t){var e;return ux(t)&&(void 0!==(e=t[cx])?!!e:"RegExp"==sx(t))},fx=TypeError,hx=function(t){if(lx(t))throw fx("The method doesn't accept regular expressions");return t},dx=pr("match"),px=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[dx]=!1,"/./"[t](e)}catch(t){}}return!1},vx=wu,yx=Ss,mx=Jo.f,gx=$a,bx=ip,wx=hx,xx=Tn,Ox=px,kx=yx("".startsWith),Sx=yx("".slice),jx=Math.min,_x=Ox("startsWith");vx({target:"String",proto:!0,forced:!!(_x||(ax=mx(String.prototype,"startsWith"),!ax||ax.writable))&&!_x},{startsWith:function(t){var e=bx(xx(this));wx(t);var n=gx(jx(arguments.length>1?arguments[1]:void 0,e.length)),r=bx(t);return kx?kx(e,r,n):Sx(e,n,n+r.length)===r}});var Mx=Or,Dx=Pn,Ex=yh,$x=ca,Px=Dx(Qo.f),Lx=Dx([].push),Ax=function(t){return function(e){for(var n,r=$x(e),i=Ex(r),o=i.length,a=0,u=[];o>a;)n=i[a++],Mx&&!Px(r,n)||Lx(u,t?[n,r[n]]:r[n]);return u}},Cx={entries:Ax(!0),values:Ax(!1)}.entries;function Tx(t){return null!=t&&!Number.isNaN(t)}function Rx(t,e){return+Tx(e)-+Tx(t)||n(t,e)}function Ix(t){return isFinite(t)?t:NaN}function Nx(t){return t>0&&isFinite(t)?t:NaN}function Wx(t){return t<0&&isFinite(t)?t:NaN}wu({target:"Object",stat:!0},{entries:function(t){return Cx(t)}});const Fx=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function zx(t,e){return Fx.test(t+="")?new Date(t):"function"==typeof e?e(t):e}const Hx=new Map([["second",r],["minute",i],["hour",o],["day",a],["week",u],["month",s],["quarter",s.every(3)],["half",s.every(6)],["year",c],["monday",l],["tuesday",f],["wednesday",h],["thursday",d],["friday",p],["saturday",v],["sunday",y]]),Yx=new Map([["second",m],["minute",g],["hour",b],["day",w],["week",x],["month",O],["quarter",O.every(3)],["half",O.every(6)],["year",k],["monday",S],["tuesday",j],["wednesday",_],["thursday",M],["friday",D],["saturday",E],["sunday",$]]);function Ux(t){const e=Hx.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown interval: ${t}`);return e}function Bx(t){const e=Yx.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown interval: ${t}`);return e}const Gx=Object.getPrototypeOf(Uint8Array),Vx=Object.prototype.toString,qx=t=>()=>t;function Kx(t){return t instanceof Gx?t:tO(t,Zx,Float64Array)}function Zx(t){return null==t?NaN:Number(t)}function Jx(t){return tO(t,Qx)}function Qx(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?zx(t):null==t||isNaN(t=+t)?void 0:new Date(t)}function Xx(t){return null==t||t instanceof Array||t instanceof Gx?t:Array.from(t)}function tO(t,e,n=Array){return null==t?t:t instanceof n?t.map(e):n.from(t,e)}function eO(t,e=Array){return t instanceof e?t.slice():e.from(t)}function nO(t){return function(t){return t?.toString===Vx}(t)&&(void 0!==t.type||void 0!==t.domain)}function rO(t,e){if(null!=t){if("number"==typeof t){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:t=>Math.floor(t*e)/e,offset:t=>(t*e+1)/e,range:(t,n)=>L(Math.ceil(t*e),n*e).map((t=>t/e))}:{floor:t=>Math.floor(t/e)*e,offset:t=>t+e,range:(t,n)=>L(Math.ceil(t/e),n/e).map((t=>t*e))}}if("string"==typeof t)return("time"===e?Ux:Bx)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function iO(t,e){if((t=rO(t,e))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function oO(t){for(const e of t){if(null==e)continue;const t=typeof e;return"string"===t||"boolean"===t}}function aO(t){for(const e of t)if(null!=e)return e instanceof Date}function uO(t){for(const e of t)if(null!=e)return"string"==typeof e&&isNaN(e)&&zx(e)}function sO(t){for(const e of t)if(null!=e){if("string"!=typeof e)return!1;if(e.trim())return!isNaN(e)}}function cO(t){if(null==t)return;const e=t[0],n=t[t.length-1];return P(e,n)}const lO=Symbol("position"),fO=Symbol("color"),hO=Symbol("radius"),dO=Symbol("length"),pO=Symbol("opacity"),vO=Symbol("symbol"),yO=new Map([["x",lO],["y",lO],["fx",lO],["fy",lO],["r",hO],["color",fO],["opacity",pO],["symbol",vO],["length",dO]]),mO=2/Math.sqrt(3),gO=new Map([["asterisk",A],["circle",C],["cross",T],["diamond",R],["diamond2",I],["hexagon",{draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*mO,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}}],["plus",N],["square",W],["square2",F],["star",z],["times",H],["triangle",Y],["triangle2",U],["wye",B]]);function bO(t){if(null==t||function(t){return t&&"function"==typeof t.draw}(t))return t;const e=gO.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function wO(t){console.warn(t)}const xO=new Map([["accent",G],["category10",V],["dark2",q],["paired",K],["pastel1",Z],["pastel2",J],["set1",Q],["set2",X],["set3",tt],["tableau10",et],["brbg",kO(zt,rt)],["prgn",kO(Ht,it)],["piyg",kO(Yt,ot)],["puor",kO(Ut,at)],["rdbu",kO(Bt,ut)],["rdgy",kO(Gt,st)],["rdylbu",kO(Vt,ct)],["rdylgn",kO(qt,lt)],["spectral",kO(Kt,ft)],["burd",SO(Bt,ut)],["buylrd",SO(Vt,ct)],["blues",OO(Zt,ht)],["greens",OO(Jt,dt)],["greys",OO(Qt,pt)],["oranges",OO(Xt,mt)],["purples",OO(te,vt)],["reds",OO(ee,yt)],["turbo",jO(gt)],["viridis",jO(bt)],["magma",jO(wt)],["inferno",jO(xt)],["plasma",jO(Ot)],["cividis",jO(kt)],["cubehelix",jO(St)],["warm",jO(jt)],["cool",jO(_t)],["bugn",OO(ne,Mt)],["bupu",OO(re,Dt)],["gnbu",OO(ie,Et)],["orrd",OO(oe,$t)],["pubu",OO(ae,Lt)],["pubugn",OO(ue,Pt)],["purd",OO(se,At)],["rdpu",OO(ce,Ct)],["ylgn",OO(le,Rt)],["ylgnbu",OO(fe,Tt)],["ylorbr",OO(he,It)],["ylorrd",OO(de,Nt)],["rainbow",_O(Wt)],["sinebow",_O(Ft)]]);function OO(t,e){return({length:n})=>1===n?[t[3][1]]:2===n?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)))>9?nt(e,n):t[n]}function kO(t,e){return({length:n})=>2===n?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)))>11?nt(e,n):t[n]}function SO(t,e){return({length:n})=>2===n?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)))>11?nt((t=>e(1-t)),n):t[n].slice().reverse()}function jO(t){return({length:e})=>nt(t,Math.max(2,Math.floor(e)))}function _O(t){return({length:e})=>nt(t,Math.floor(e)+1).slice(0,-1)}function MO(t){const e=`${t}`.toLowerCase();if(!xO.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return xO.get(e)}function DO(t,e){const n=MO(t),r="function"==typeof n?n({length:e}):n;return r.length!==e?r.slice(0,e):r}const EO=new Map([["brbg",rt],["prgn",it],["piyg",ot],["puor",at],["rdbu",ut],["rdgy",st],["rdylbu",ct],["rdylgn",lt],["spectral",ft],["burd",t=>ut(1-t)],["buylrd",t=>ct(1-t)],["blues",ht],["greens",dt],["greys",pt],["purples",vt],["reds",yt],["oranges",mt],["turbo",gt],["viridis",bt],["magma",wt],["inferno",xt],["plasma",Ot],["cividis",kt],["cubehelix",St],["warm",jt],["cool",_t],["bugn",Mt],["bupu",Dt],["gnbu",Et],["orrd",$t],["pubugn",Pt],["pubu",Lt],["purd",At],["rdpu",Ct],["ylgnbu",Tt],["ylgn",Rt],["ylorbr",It],["ylorrd",Nt],["rainbow",Wt],["sinebow",Ft]]);function $O(t){const e=`${t}`.toLowerCase();if(!EO.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return EO.get(e)}const PO=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function LO(t){return null!=t&&PO.has(`${t}`.toLowerCase())}const AO=t=>e=>t(1-e),CO=[0,1],TO=new Map([["number",pe],["rgb",ve],["hsl",ye],["hcl",me],["lab",ge]]);function RO(t){const e=`${t}`.toLowerCase();if(!TO.has(e))throw new Error(`unknown interpolator: ${e}`);return TO.get(e)}function IO(t,e,n,{type:r,nice:i,clamp:o,zero:a,domain:u=zO(t,n),unknown:s,round:c,scheme:l,interval:f,range:h=(yO.get(t)===hO?YO(n,u):yO.get(t)===dO?UO(n,u):yO.get(t)===pO?CO:void 0),interpolate:d=(yO.get(t)===fO?null==l&&void 0!==h?ve:$O(void 0!==l?l:"cyclical"===r?"rainbow":"turbo"):c?$e:pe),reverse:p}){if(f=iO(f,r),"cyclical"!==r&&"sequential"!==r||(r="linear"),p=!!p,"function"!=typeof d&&(d=RO(d)),1===d.length?(p&&(d=AO(d),p=!1),void 0===h&&2===(h=Float64Array.from(u,((t,e)=>e/(u.length-1)))).length&&(h=CO),e.interpolate((h===CO?qx:VO)(d))):e.interpolate(d),a){const[t,e]=Se(u);(t>0||e<0)&&(cO(u=eO(u))!==Math.sign(t)?u[u.length-1]=0:u[0]=0)}return p&&(u=_e(u)),e.domain(u).unknown(s),i&&(e.nice(function(t,e){return!0===t?void 0:"number"==typeof t?t:function(t,e){if((t=iO(t,e))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}(t,e)}(i,r)),u=e.domain()),void 0!==h&&e.range(h),o&&e.clamp(o),{type:r,domain:u,range:h,scale:e,interpolate:d,interval:f}}function NO(t,e,{exponent:n=1,...r}){return IO(t,we().exponent(n),e,{...r,type:"pow"})}function WO(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=(void 0!==o?nt(o,n.length+1):yO.get(t)===fO?DO(i,n.length+1):void 0),reverse:u}){const s=cO(n=Xx(n));if(!isNaN(s)&&!function(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const r=P(i,i=t[n]);if(0!==r&&r!==e)return!1}return!0}(n,s))throw new Error(`the ${t} scale has a non-monotonic domain`);return u&&(a=_e(a)),{type:"threshold",scale:Me(s<0?_e(n):n,void 0===a?[]:a).unknown(r),domain:n,range:a}}function FO(t,e=Ix){return t.length?[Pe(t,(({value:t})=>void 0===t?t:Pe(t,e))),Ee(t,(({value:t})=>void 0===t?t:Ee(t,e)))]:[0,1]}function zO(t,e){const n=yO.get(t);return(n===hO||n===pO||n===dO?HO:FO)(e)}function HO(t){return[0,t.length?Ee(t,(({value:t})=>void 0===t?t:Ee(t,Ix))):1]}function YO(t,e){const n=t.find((({radius:t})=>void 0!==t));if(void 0!==n)return[0,n.radius];const r=Le(t,.5,(({value:t})=>void 0===t?NaN:Le(t,.25,Nx))),i=e.map((t=>3*Math.sqrt(t/r))),o=30/Ee(i);return o<1?i.map((t=>t*o)):i}function UO(t,e){const n=Ae(t,(({value:t})=>void 0===t?NaN:Ae(t,Math.abs))),r=e.map((t=>12*t/n)),i=60/Ee(r);return i<1?r.map((t=>t*i)):r}function BO(t){for(const{value:e}of t)if(void 0!==e)for(let n of e){if(n>0)return FO(t,Nx);if(n<0)return FO(t,Wx)}return[1,10]}function GO(t){const e=[];for(const{value:n}of t)if(void 0!==n)for(const t of n)e.push(t);return e}function VO(t){return(e,n)=>r=>t(e+r*(n-e))}function qO(t,e,n,r,{type:i,nice:o,clamp:a,domain:u=FO(r),unknown:s,pivot:c=0,scheme:l,range:f,symmetric:h=!0,interpolate:d=(yO.get(t)===fO?null==l&&void 0!==f?ve:$O(void 0!==l?l:"rdbu"):pe),reverse:p}){c=+c;let[v,y]=u;if(P(v,y)<0&&([v,y]=[y,v],p=!p),v=Math.min(v,c),y=Math.max(y,c),"function"!=typeof d&&(d=RO(d)),void 0!==f&&(d=1===d.length?VO(d)(...f):Ne(d,f)),p&&(d=AO(d)),h){const t=n.apply(c),e=t-n.apply(v),r=n.apply(y)-t;e<r?v=n.invert(t-r):e>r&&(y=n.invert(t+e))}return e.domain([v,c,y]).unknown(s).interpolator(d),a&&e.clamp(a),o&&e.nice(o),{type:i,domain:[v,y],pivot:c,interpolate:d,scale:e}}function KO(t,e,{exponent:n=1,...r}){return qO(t,Te().exponent(n=+n),function(t){return.5===t?XO:{apply:e=>Math.sign(e)*Math.pow(Math.abs(e),t),invert:e=>Math.sign(e)*Math.pow(Math.abs(e),1/t)}}(n),e,{...r,type:"diverging-pow"})}function ZO(t,e,{constant:n=1,...r}){return qO(t,Ie().constant(n=+n),function(t){return{apply:e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),invert:e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}}(n),e,r)}const JO={apply:t=>t,invert:t=>t},QO={apply:Math.log,invert:Math.exp},XO={apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*(t*t)};function tk(t,e,n,r){return IO(t,e,n,r)}const ek=Symbol("ordinal");function nk(t,e,n,{type:r,interval:i,domain:o,range:a,reverse:u,hint:s}){return i=iO(i,r),void 0===o&&(o=ok(n,i,t)),"categorical"!==r&&r!==ek||(r="ordinal"),u&&(o=_e(o)),e.domain(o),void 0!==a&&("function"==typeof a&&(a=a(o)),e.range(a)),{type:r,domain:o,range:a,scale:e,hint:s,interval:i}}function rk(t,e,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:u,...s}){let c;if(r=iO(r,n),void 0===i&&(i=ok(e,r,t)),yO.get(t)===vO)c=function(t){return{fill:ak(t,"fill"),stroke:ak(t,"stroke")}}(e),o=void 0===o?function(t){return e=t.fill,null==e||function(t){return/^\s*none\s*$/i.test(t)}(e)?Ve:qe;var e}(c):tO(o,bO);else if(yO.get(t)===fO&&(void 0!==o||"ordinal"!==n&&n!==ek||(o=function(t,e="greys"){const n=new Set,[r,i]=DO(e,2);for(const e of t)if(null!=e)if(!0===e)n.add(i);else{if(!1!==e)return;n.add(r)}return[...n]}(i,a),void 0!==o&&(a=void 0)),void 0===a&&void 0===o&&(a="ordinal"===n?"turbo":"tableau10"),void 0!==a))if(void 0!==o){const t=$O(a),e=o[0],n=o[1]-o[0];o=({length:r})=>nt((r=>t(e+n*r)),r)}else o=MO(a);if(u===ze)throw new Error(`implicit unknown on ${t} scale is not supported`);return nk(t,He().unknown(u),e,{...s,type:n,domain:i,range:o,hint:c})}function ik(t,e,n,r){let{round:i}=n;return void 0!==i&&t.round(i=!!i),(t=nk(r,t,e,n)).round=i,t}function ok(t,e,n){const r=new Be;for(const{value:e,domain:n}of t){if(void 0!==n)return n();if(void 0!==e)for(const t of e)r.add(t)}if(void 0!==e){const[t,n]=Se(r).map(e.floor,e);return e.range(t,e.offset(n))}if(r.size>1e4&&yO.get(n)===lO)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return Ge(r,Rx)}function ak(t,e){let n;for(const{hint:r}of t){const t=r?.[e];if(void 0!==t)if(void 0===n)n=t;else if(n!==t)return}return n}function uk(t,e,n){return function(t,e=[],n={}){const r=function(t,e,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:u}){if("fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==u||(n=ck);for(const{type:t}of e)if(void 0!==t)if(void 0===n)n=t;else if(n!==t)throw new Error(`scale incompatible with channel: ${n} !== ${t}`);if(n===ck)return;if(void 0!==n)return n;if(void 0===r&&!e.some((({value:t})=>void 0!==t)))return;const s=yO.get(t);if(s===hO)return"sqrt";if(s===pO||s===dO)return"linear";if(s===vO)return"ordinal";if((r||i||[]).length>2)return lk(s);if(void 0!==r)return oO(r)?lk(s):aO(r)?"utc":s!==fO||null==a&&!LO(o)?"linear":"diverging";const c=e.map((({value:t})=>t)).filter((t=>void 0!==t));return c.some(oO)?lk(s):c.some(aO)?"utc":s!==fO||null==a&&!LO(o)?"linear":"diverging"}(t,e,n);if(void 0===n.type&&void 0===n.domain&&void 0===n.range&&null==n.interval&&"fx"!==t&&"fy"!==t&&function({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===ek}({type:r})){const n=e.map((({value:t})=>t)).filter((t=>void 0!==t));n.some(aO)?wO(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${sk(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${sk(r)}".`):n.some(uO)?wO(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${sk(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${sk(r)}".`):n.some(sO)&&wO(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${sk(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${sk(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=fk(e,n,Kx);break;case"identity":switch(yO.get(t)){case lO:n=fk(e,n,Kx);break;case vO:n=fk(e,n,hk)}break;case"utc":case"time":n=fk(e,n,Jx)}switch(r){case"diverging":return function(t,e,n){return qO(t,Ce(),JO,e,n)}(t,e,n);case"diverging-sqrt":return function(t,e,n){return KO(t,e,{...n,exponent:.5})}(t,e,n);case"diverging-pow":return KO(t,e,n);case"diverging-log":return function(t,e,{base:n=10,pivot:r=1,domain:i=FO(e,r<0?Wx:Nx),...o}){return qO(t,Re().base(n=+n),QO,e,{domain:i,pivot:r,...o})}(t,e,n);case"diverging-symlog":return ZO(t,e,n);case"categorical":case"ordinal":case ek:return rk(t,e,n);case"cyclical":case"sequential":case"linear":return function(t,e,n){return IO(t,be(),e,n)}(t,e,n);case"sqrt":return function(t,e,n){return NO(t,e,{...n,exponent:.5})}(t,e,n);case"threshold":return WO(t,0,n);case"quantile":return function(t,e,{range:n,quantiles:r=(void 0===n?5:(n=[...n]).length),n:i=r,scheme:o="rdylbu",domain:a=GO(e),unknown:u,interpolate:s,reverse:c}){return void 0===n&&(n=void 0!==s?nt(s,i):yO.get(t)===fO?DO(o,i):void 0),a.length>0&&(a=ke(a,void 0===n?{length:i}:n).quantiles()),WO(t,0,{domain:a,range:n,reverse:c,unknown:u})}(t,e,n);case"quantize":return function(t,e,{range:n,n:r=(void 0===n?5:(n=[...n]).length),scheme:i="rdylbu",domain:o=zO(t,e),unknown:a,interpolate:u,reverse:s}){const[c,l]=Se(o);let f;return void 0===n?(f=je(c,l,r),f[0]<=c&&f.splice(0,1),f[f.length-1]>=l&&f.pop(),r=f.length+1,n=void 0!==u?nt(u,r):yO.get(t)===fO?DO(i,r):void 0):(f=nt(pe(c,l),r+1).slice(1,-1),c instanceof Date&&(f=f.map((t=>new Date(t))))),cO(Xx(o))<0&&f.reverse(),WO(t,0,{domain:f,range:n,reverse:s,unknown:a})}(t,e,n);case"pow":return NO(t,e,n);case"log":return function(t,e,{base:n=10,domain:r=BO(e),...i}){return IO(t,xe().base(n),e,{...i,domain:r})}(t,e,n);case"symlog":return function(t,e,{constant:n=1,...r}){return IO(t,Oe().constant(n),e,r)}(t,e,n);case"utc":return function(t,e,n){return tk(t,Fe(),e,n)}(t,e,n);case"time":return function(t,e,n){return tk(t,We(),e,n)}(t,e,n);case"point":return function(t,e,{align:n=.5,padding:r=.5,...i}){return ik(Ye().align(n).padding(r),e,i,t)}(t,e,n);case"band":return function(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=("fx"===t||"fy"===t?0:r),...a}){return ik(Ue().align(n).paddingInner(i).paddingOuter(o),e,a,t)}(t,e,n);case"identity":return yO.get(t)===lO?{type:"identity",scale:De()}:{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}(t,void 0===n?void 0:[{hint:n}],{...e})}function sk(t){return"symbol"==typeof t?t.description:t}const ck={toString:()=>"projection"};function lk(t){switch(t){case lO:return"point";case fO:return ek;default:return"ordinal"}}function fk(t,{domain:e,...n},r){for(const e of t)void 0!==e.value&&(e.value=r(e.value));return{domain:void 0===e?e:r(e),...n}}function hk(t){return tO(t,bO)}function dk({scale:t,type:e,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:u,pivot:s}){if("identity"===e)return{type:"identity",apply:t=>t,invert:t=>t};const c=t.unknown?t.unknown():void 0;return{type:e,domain:eO(n),...void 0!==r&&{range:eO(r)},...void 0!==a&&{transform:a},...u&&{percent:u},...void 0!==c&&{unknown:c},...void 0!==o&&{interval:o},...void 0!==i&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...void 0!==s&&{pivot:s,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:e=>t(e),...t.invert&&{invert:e=>t.invert(e)}}}function pk(t){try{var e=Object.keys(t)[0];return function(t={}){let e;for(const n in t)if(yO.has(n)&&nO(t[n])){if(void 0!==e)throw new Error("ambiguous scale definition; multiple scales found");e=dk(uk(n,t[n]))}if(void 0===e)throw new Error("invalid scale definition; no scale found");return e}((n={},r=e,i=Object.assign(Object.assign({},t[e]),{clamp:!0}),(r=cn(r))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n))}catch(t){return null}var n,r,i}function vk(t,e,n,r){Object.entries(function(t,e){var n={};return e.hasOwnProperty("opacity")?(n.fill=function(){return e.opacity.baseColor||Om},n["fill-opacity"]=function(e){return null==t?void 0:t.apply(e)}):n.fill=function(e){return"string"==typeof e&&(null==e?void 0:e.startsWith("#"))?e:null==t?void 0:t.apply(e)},n}(e,n)).forEach((function(e){var n=on(e,2),i=n[0],o=n[1];return t.style(i,(function(t){return o(r?t[r]:t)}))}))}var yk=function(){function t(e){en(this,t),this.calendar=e}return rn(t,[{key:"populate",value:function(){var t=this.calendar,n=t.options.options,r=n.scale,i=n.subDomain,o=pk(r);t.calendarPainter.root.selectAll(".ch-domain").selectAll("svg").selectAll("g").data((function(e){return t.domainCollection.get(e)||[]})).call((function(t){vk(t.select("rect"),o,r,"v")})).call((function(n){n.select("text").attr("style",(function(t){var n=e(null==o?void 0:o.apply(t.v)).l>60?"#000":"#fff",r=i.color||(t.v?n:null);return rx(r)&&(r=r(t.t,t.v,null==o?void 0:o.apply(t.v))),r?"fill: ".concat(r,";"):null})).text((function(e,n,r){return t.dateHelper.format(e.t,i.label,e.v,r[n])}))})).call((function(){t.eventEmitter.emit("fill")}))}}]),t}();function mk(t,e){return t===e||t!=t&&e!=e}function gk(t,e){for(var n=t.length;n--;)if(mk(t[n][0],e))return n;return-1}var bk=Array.prototype.splice;function wk(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wk.prototype.clear=function(){this.__data__=[],this.size=0},wk.prototype.delete=function(t){var e=this.__data__,n=gk(e,t);return!(n<0)&&(n==e.length-1?e.pop():bk.call(e,n,1),--this.size,!0)},wk.prototype.get=function(t){var e=this.__data__,n=gk(e,t);return n<0?void 0:e[n][1]},wk.prototype.has=function(t){return gk(this.__data__,t)>-1},wk.prototype.set=function(t,e){var n=this.__data__,r=gk(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var xk=zw["__core-js_shared__"],Ok=function(){var t=/[^.]+$/.exec(xk&&xk.keys&&xk.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var kk=Function.prototype.toString;function Sk(t){if(null!=t){try{return kk.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var jk=/^\[object .+?Constructor\]$/,_k=Function.prototype,Mk=Object.prototype,Dk=_k.toString,Ek=Mk.hasOwnProperty,$k=RegExp("^"+Dk.call(Ek).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Pk(t){return!(!Qw(t)||(e=t,Ok&&Ok in e))&&(rx(t)?$k:jk).test(Sk(t));var e}function Lk(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Pk(n)?n:void 0}var Ak=Lk(zw,"Map"),Ck=Lk(Object,"create");var Tk=Object.prototype.hasOwnProperty;var Rk=Object.prototype.hasOwnProperty;function Ik(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Nk(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Wk(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ik.prototype.clear=function(){this.__data__=Ck?Ck(null):{},this.size=0},Ik.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ik.prototype.get=function(t){var e=this.__data__;if(Ck){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Tk.call(e,t)?e[t]:void 0},Ik.prototype.has=function(t){var e=this.__data__;return Ck?void 0!==e[t]:Rk.call(e,t)},Ik.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ck&&void 0===e?"__lodash_hash_undefined__":e,this},Wk.prototype.clear=function(){this.size=0,this.__data__={hash:new Ik,map:new(Ak||wk),string:new Ik}},Wk.prototype.delete=function(t){var e=Nk(this,t).delete(t);return this.size-=e?1:0,e},Wk.prototype.get=function(t){return Nk(this,t).get(t)},Wk.prototype.has=function(t){return Nk(this,t).has(t)},Wk.prototype.set=function(t,e){var n=Nk(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Fk(t){var e=this.__data__=new wk(t);this.size=e.size}Fk.prototype.clear=function(){this.__data__=new wk,this.size=0},Fk.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Fk.prototype.get=function(t){return this.__data__.get(t)},Fk.prototype.has=function(t){return this.__data__.has(t)},Fk.prototype.set=function(t,e){var n=this.__data__;if(n instanceof wk){var r=n.__data__;if(!Ak||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Wk(r)}return n.set(t,e),this.size=n.size,this};var zk=function(){try{var t=Lk(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Hk=zk;function Yk(t,e,n){"__proto__"==e&&Hk?Hk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Uk(t,e,n){(void 0!==n&&!mk(t[e],n)||void 0===n&&!(e in t))&&Yk(t,e,n)}var Bk,Gk=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var u=o[Bk?a:++r];if(!1===e(i[u],u,i))break}return t},Vk=Gk,qk="object"==typeof exports&&exports&&!exports.nodeType&&exports,Kk=qk&&"object"==typeof module&&module&&!module.nodeType&&module,Zk=Kk&&Kk.exports===qk?zw.Buffer:void 0,Jk=Zk?Zk.allocUnsafe:void 0;var Qk=zw.Uint8Array;function Xk(t,e){var n,r,i=e?(n=t.buffer,r=new n.constructor(n.byteLength),new Qk(r).set(new Qk(n)),r):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var tS=Object.create,eS=function(){function t(){}return function(e){if(!Qw(e))return{};if(tS)return tS(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function nS(t,e){return function(n){return t(e(n))}}var rS=nS(Object.getPrototypeOf,Object),iS=Object.prototype;function oS(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||iS)}function aS(t){return null!=t&&"object"==typeof t}function uS(t){return aS(t)&&"[object Arguments]"==Jw(t)}var sS=Object.prototype,cS=sS.hasOwnProperty,lS=sS.propertyIsEnumerable,fS=uS(function(){return arguments}())?uS:function(t){return aS(t)&&cS.call(t,"callee")&&!lS.call(t,"callee")},hS=9007199254740991;function dS(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=hS}function pS(t){return null!=t&&dS(t.length)&&!rx(t)}var vS="object"==typeof exports&&exports&&!exports.nodeType&&exports,yS=vS&&"object"==typeof module&&module&&!module.nodeType&&module,mS=yS&&yS.exports===vS?zw.Buffer:void 0,gS=(mS?mS.isBuffer:void 0)||function(){return!1},bS="[object Object]",wS=Function.prototype,xS=Object.prototype,OS=wS.toString,kS=xS.hasOwnProperty,SS=OS.call(Object);var jS={};jS["[object Float32Array]"]=jS["[object Float64Array]"]=jS["[object Int8Array]"]=jS["[object Int16Array]"]=jS["[object Int32Array]"]=jS["[object Uint8Array]"]=jS["[object Uint8ClampedArray]"]=jS["[object Uint16Array]"]=jS["[object Uint32Array]"]=!0,jS["[object Arguments]"]=jS["[object Array]"]=jS["[object ArrayBuffer]"]=jS["[object Boolean]"]=jS["[object DataView]"]=jS["[object Date]"]=jS["[object Error]"]=jS["[object Function]"]=jS["[object Map]"]=jS["[object Number]"]=jS["[object Object]"]=jS["[object RegExp]"]=jS["[object Set]"]=jS["[object String]"]=jS["[object WeakMap]"]=!1;var _S,MS="object"==typeof exports&&exports&&!exports.nodeType&&exports,DS=MS&&"object"==typeof module&&module&&!module.nodeType&&module,ES=DS&&DS.exports===MS&&Ww.process,$S=function(){try{var t=DS&&DS.require&&DS.require("util").types;return t||ES&&ES.binding&&ES.binding("util")}catch(t){}}(),PS=$S&&$S.isTypedArray,LS=PS?(_S=PS,function(t){return _S(t)}):function(t){return aS(t)&&dS(t.length)&&!!jS[Jw(t)]};function AS(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var CS=Object.prototype.hasOwnProperty;function TS(t,e,n){var r=t[e];CS.call(t,e)&&mk(r,n)&&(void 0!==n||e in t)||Yk(t,e,n)}var RS=9007199254740991,IS=/^(?:0|[1-9]\d*)$/;function NS(t,e){var n=typeof t;return!!(e=null==e?RS:e)&&("number"==n||"symbol"!=n&&IS.test(t))&&t>-1&&t%1==0&&t<e}var WS=Object.prototype.hasOwnProperty;function FS(t,e){var n=yv(t),r=!n&&fS(t),i=!n&&!r&&gS(t),o=!n&&!r&&!i&&LS(t),a=n||r||i||o,u=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],s=u.length;for(var c in t)!e&&!WS.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||NS(c,s))||u.push(c);return u}var zS=Object.prototype.hasOwnProperty;function HS(t){if(!Qw(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=oS(t),n=[];for(var r in t)("constructor"!=r||!e&&zS.call(t,r))&&n.push(r);return n}function YS(t){return pS(t)?FS(t,!0):HS(t)}function US(t){return function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],s=r?r(n[u],t[u],u,n,t):void 0;void 0===s&&(s=t[u]),i?Yk(n,u,s):TS(n,u,s)}return n}(t,YS(t))}function BS(t,e,n,r,i,o,a){var u=AS(t,n),s=AS(e,n),c=a.get(s);if(c)Uk(t,n,c);else{var l,f=o?o(u,s,n+"",t,e,a):void 0,h=void 0===f;if(h){var d=yv(s),p=!d&&gS(s),v=!d&&!p&&LS(s);f=s,d||p||v?yv(u)?f=u:aS(l=u)&&pS(l)?f=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(u):p?(h=!1,f=function(t,e){if(e)return t.slice();var n=t.length,r=Jk?Jk(n):new t.constructor(n);return t.copy(r),r}(s,!0)):v?(h=!1,f=Xk(s,!0)):f=[]:function(t){if(!aS(t)||Jw(t)!=bS)return!1;var e=rS(t);if(null===e)return!0;var n=kS.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&OS.call(n)==SS}(s)||fS(s)?(f=u,fS(u)?f=US(u):Qw(u)&&!rx(u)||(f=function(t){return"function"!=typeof t.constructor||oS(t)?{}:eS(rS(t))}(s))):h=!1}h&&(a.set(s,f),i(f,s,r,o,a),a.delete(s)),Uk(t,n,f)}}function GS(t,e,n,r,i){t!==e&&Vk(e,(function(o,a){if(i||(i=new Fk),Qw(o))BS(t,e,a,n,GS,r,i);else{var u=r?r(AS(t,a),o,a+"",t,e,i):void 0;void 0===u&&(u=o),Uk(t,a,u)}}),YS)}function VS(t){return t}var qS=Math.max;var KS=Hk?function(t,e){return Hk(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:VS,ZS=KS,JS=Date.now;var QS=function(t){var e=0,n=0;return function(){var r=JS(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(ZS),XS=QS;function tj(t,e){return XS(function(t,e,n){return e=qS(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=qS(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=r[i];return u[e]=n(a),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,u)}}(t,e,VS),t+"")}var ej,nj=(ej=function(t,e,n,r){GS(t,e,n,r)},tj((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=ej.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(t,e,n){if(!Qw(n))return!1;var r=typeof e;return!!("number"==r?pS(n)&&NS(e,n.length):"string"==r&&e in n)&&mk(n[e],t)}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&ej(t,a,n,i)}return t}))),rj=nj;function ij(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Wk;++e<n;)this.add(t[e])}function oj(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}ij.prototype.add=ij.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ij.prototype.has=function(t){return this.__data__.has(t)};var aj=1,uj=2;function sj(t,e,n,r,i,o){var a=n&aj,u=t.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var c=o.get(t),l=o.get(e);if(c&&l)return c==e&&l==t;var f=-1,h=!0,d=n&uj?new ij:void 0;for(o.set(t,e),o.set(e,t);++f<u;){var p=t[f],v=e[f];if(r)var y=a?r(v,p,f,e,t,o):r(p,v,f,t,e,o);if(void 0!==y){if(y)continue;h=!1;break}if(d){if(!oj(e,(function(t,e){if(a=e,!d.has(a)&&(p===t||i(p,t,n,r,o)))return d.push(e);var a}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function cj(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function lj(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var fj=1,hj=2,dj="[object Boolean]",pj="[object Date]",vj="[object Error]",yj="[object Map]",mj="[object Number]",gj="[object RegExp]",bj="[object Set]",wj="[object String]",xj="[object Symbol]",Oj="[object ArrayBuffer]",kj="[object DataView]",Sj=Hw?Hw.prototype:void 0,jj=Sj?Sj.valueOf:void 0;var _j=Object.prototype.propertyIsEnumerable,Mj=Object.getOwnPropertySymbols,Dj=Mj?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}(Mj(t),(function(e){return _j.call(t,e)})))}:function(){return[]},Ej=Dj,$j=nS(Object.keys,Object),Pj=Object.prototype.hasOwnProperty;function Lj(t){return pS(t)?FS(t):function(t){if(!oS(t))return $j(t);var e=[];for(var n in Object(t))Pj.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}function Aj(t){return function(t,e,n){var r=e(t);return yv(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Lj,Ej)}var Cj=1,Tj=Object.prototype.hasOwnProperty;var Rj=Lk(zw,"DataView"),Ij=Lk(zw,"Promise"),Nj=Lk(zw,"Set"),Wj=Lk(zw,"WeakMap"),Fj="[object Map]",zj="[object Promise]",Hj="[object Set]",Yj="[object WeakMap]",Uj="[object DataView]",Bj=Sk(Rj),Gj=Sk(Ak),Vj=Sk(Ij),qj=Sk(Nj),Kj=Sk(Wj),Zj=Jw;(Rj&&Zj(new Rj(new ArrayBuffer(1)))!=Uj||Ak&&Zj(new Ak)!=Fj||Ij&&Zj(Ij.resolve())!=zj||Nj&&Zj(new Nj)!=Hj||Wj&&Zj(new Wj)!=Yj)&&(Zj=function(t){var e=Jw(t),n="[object Object]"==e?t.constructor:void 0,r=n?Sk(n):"";if(r)switch(r){case Bj:return Uj;case Gj:return Fj;case Vj:return zj;case qj:return Hj;case Kj:return Yj}return e});var Jj=Zj,Qj=1,Xj="[object Arguments]",t_="[object Array]",e_="[object Object]",n_=Object.prototype.hasOwnProperty;function r_(t,e,n,r,i,o){var a=yv(t),u=yv(e),s=a?t_:Jj(t),c=u?t_:Jj(e),l=(s=s==Xj?e_:s)==e_,f=(c=c==Xj?e_:c)==e_,h=s==c;if(h&&gS(t)){if(!gS(e))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new Fk),a||LS(t)?sj(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case kj:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Oj:return!(t.byteLength!=e.byteLength||!o(new Qk(t),new Qk(e)));case dj:case pj:case mj:return mk(+t,+e);case vj:return t.name==e.name&&t.message==e.message;case gj:case wj:return t==e+"";case yj:var u=cj;case bj:var s=r&fj;if(u||(u=lj),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=hj,a.set(t,e);var l=sj(u(t),u(e),r,i,o,a);return a.delete(t),l;case xj:if(jj)return jj.call(t)==jj.call(e)}return!1}(t,e,s,n,r,i,o);if(!(n&Qj)){var d=l&&n_.call(t,"__wrapped__"),p=f&&n_.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,y=p?e.value():e;return o||(o=new Fk),i(v,y,n,r,o)}}return!!h&&(o||(o=new Fk),function(t,e,n,r,i,o){var a=n&Cj,u=Aj(t),s=u.length;if(s!=Aj(e).length&&!a)return!1;for(var c=s;c--;){var l=u[c];if(!(a?l in e:Tj.call(e,l)))return!1}var f=o.get(t),h=o.get(e);if(f&&h)return f==e&&h==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=a;++c<s;){var v=t[l=u[c]],y=e[l];if(r)var m=a?r(y,v,l,e,t,o):r(v,y,l,t,e,o);if(!(void 0===m?v===y||i(v,y,n,r,o):m)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var g=t.constructor,b=e.constructor;g==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o))}function i_(t,e,n,r,i){return t===e||(null==t||null==e||!aS(t)&&!aS(e)?t!=t&&e!=e:r_(t,e,n,r,i_,i))}function o_(t,e){return i_(t,e)}var a_=Object.prototype.hasOwnProperty;function u_(t,e){return null!=t&&a_.call(t,e)}var s_="[object Symbol]";function c_(t){return"symbol"==typeof t||aS(t)&&Jw(t)==s_}var l_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f_=/^\w*$/;var h_="Expected a function";function d_(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(h_);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(d_.Cache||Wk),n}d_.Cache=Wk;var p_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v_=/\\(\\)?/g,y_=function(t){var e=d_(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(p_,(function(t,n,r,i){e.push(r?i.replace(v_,"$1"):n||t)})),e})),m_=y_;var g_=1/0,b_=Hw?Hw.prototype:void 0,w_=b_?b_.toString:void 0;function x_(t){if("string"==typeof t)return t;if(yv(t))return function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(t,x_)+"";if(c_(t))return w_?w_.call(t):"";var e=t+"";return"0"==e&&1/t==-g_?"-0":e}function O_(t,e){return yv(t)?t:function(t,e){if(yv(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!c_(t))||f_.test(t)||!l_.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:m_(function(t){return null==t?"":x_(t)}(t))}var k_=1/0;function S_(t){if("string"==typeof t||c_(t))return t;var e=t+"";return"0"==e&&1/t==-k_?"-0":e}function j_(t,e){return null!=t&&function(t,e,n){for(var r=-1,i=(e=O_(e,t)).length,o=!1;++r<i;){var a=S_(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&dS(i)&&NS(a,i)&&(yv(t)||fS(t))}(t,e,u_)}function __(t,e,n){var r=null==t?void 0:function(t,e){for(var n=0,r=(e=O_(e,t)).length;null!=t&&n<r;)t=t[S_(e[n++])];return n&&n==r?t:void 0}(t,e);return void 0===r?n:r}function M_(t,e,n){return null==t?t:function(t,e,n,r){if(!Qw(t))return t;for(var i=-1,o=(e=O_(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var s=S_(e[i]),c=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return t;if(i!=a){var l=u[s];void 0===(c=r?r(l,s,u):void 0)&&(c=Qw(l)?l:NS(e[i+1])?[]:{})}TS(u,s,c),u=u[s]}return t}(t,e,n)}var D_,E_,$_={range:function(t){return Math.max(+t,1)},"date.highlight":function(t){return mv(t)},"subDomain.label":function(t){return function(t){return"string"==typeof t||!yv(t)&&aS(t)&&"[object String]"==Jw(t)}(t)&&""!==t||rx(t)?t:null}},P_=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$_;en(this,t),this.preProcessors=e,this.options={itemSelector:"#cal-heatmap",range:12,domain:{type:"hour",gutter:4,padding:[0,0,0,0],dynamicDimension:!0,sort:"asc",label:{text:void 0,position:"bottom",textAlign:"middle",offset:{x:0,y:0},rotate:null,width:100,height:25}},subDomain:{type:"minute",width:10,height:10,gutter:2,radius:0,label:null,color:void 0,sort:"asc"},date:{start:new Date,min:void 0,max:void 0,highlight:[],locale:"en",timezone:void 0},verticalOrientation:!1,data:{source:"",type:"json",requestInit:{},x:"",y:"",groupY:"sum",defaultValue:null},scale:void 0,animationDuration:200,theme:"light",x:{domainHorizontalLabelWidth:0,domainVerticalLabelHeight:0}}}return rn(t,[{key:"set",value:function(t,e){return!(!j_(this.options,t)||o_(__(this.options,t),e))&&(M_(this.options,t,j_(this.preProcessors,t)?__(this.preProcessors,t)(e):e),!0)}},{key:"init",value:function(t){var e=this;this.options=Object.assign({},rj(this.options,t,(function(t,e){return Array.isArray(e)?e:void 0})));var n=this.options;Object.keys(this.preProcessors).forEach((function(t){M_(n,t,__(e.preProcessors,t)(__(n,t)))})),void 0===n.scale&&this.initScale(),n.x.domainVerticalLabelHeight=n.domain.label.height,"top"===n.domain.label.position||"bottom"===n.domain.label.position?n.x.domainHorizontalLabelWidth=0:(n.x.domainVerticalLabelHeight=0,n.x.domainHorizontalLabelWidth=n.domain.label.width),null!==n.domain.label.text&&""!==n.domain.label.text||(n.x.domainVerticalLabelHeight=0,n.x.domainHorizontalLabelWidth=0)}},{key:"initScale",value:function(){this.options.scale={color:{scheme:"YlOrBr",type:"quantize",domain:km}}}}]),t}(),L_=Rr,A_=jn,C_=dn.RegExp,T_=A_((function(){var t=C_("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),R_=T_||A_((function(){return!C_("a","y").sticky})),I_=T_||A_((function(){var t=C_("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),N_={BROKEN_CARET:I_,MISSED_STICKY:R_,UNSUPPORTED_Y:T_},W_=jn,F_=dn.RegExp,z_=W_((function(){var t=F_(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),H_=jn,Y_=dn.RegExp,U_=H_((function(){var t=Y_("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),B_=Wr,G_=Pn,V_=ip,q_=function(){var t=L_(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},K_=N_,Z_=Ih,J_=po.get,Q_=z_,X_=U_,tM=Sn("native-string-replace",String.prototype.replace),eM=RegExp.prototype.exec,nM=eM,rM=G_("".charAt),iM=G_("".indexOf),oM=G_("".replace),aM=G_("".slice),uM=(E_=/b*/g,B_(eM,D_=/a/,"a"),B_(eM,E_,"a"),0!==D_.lastIndex||0!==E_.lastIndex),sM=K_.BROKEN_CARET,cM=void 0!==/()??/.exec("")[1];(uM||cM||sM||Q_||X_)&&(nM=function(t){var e,n,r,i,o,a,u,s=this,c=J_(s),l=V_(t),f=c.raw;if(f)return f.lastIndex=s.lastIndex,e=B_(nM,f,l),s.lastIndex=f.lastIndex,e;var h=c.groups,d=sM&&s.sticky,p=B_(q_,s),v=s.source,y=0,m=l;if(d&&(p=oM(p,"y",""),-1===iM(p,"g")&&(p+="g"),m=aM(l,s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==rM(l,s.lastIndex-1))&&(v="(?: "+v+")",m=" "+m,y++),n=new RegExp("^(?:"+v+")",p)),cM&&(n=new RegExp("^"+v+"$(?!\\s)",p)),uM&&(r=s.lastIndex),i=B_(eM,d?n:s,m),d?i?(i.input=aM(i.input,y),i[0]=aM(i[0],y),i.index=s.lastIndex,s.lastIndex+=i[0].length):s.lastIndex=0:uM&&i&&(s.lastIndex=s.global?i.index+i[0].length:r),cM&&i&&i.length>1&&B_(tM,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&h)for(i.groups=a=Z_(null),o=0;o<h.length;o++)a[(u=h[o])[0]]=i[u[1]];return i});var lM=nM;wu({target:"RegExp",proto:!0,forced:/./.exec!==lM},{exec:lM});var fM,hM,dM=Ss,pM=Io,vM=lM,yM=jn,mM=pr,gM=Ki,bM=mM("species"),wM=RegExp.prototype,xM=dp.charAt,OM=Pn,kM=Nn,SM=Math.floor,jM=OM("".charAt),_M=OM("".replace),MM=OM("".slice),DM=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,EM=/\$([$&'`]|\d{1,2})/g,$M=Wr,PM=Rr,LM=wr,AM=zo,CM=lM,TM=TypeError,RM=xs,IM=Wr,NM=Pn,WM=function(t,e,n,r){var i=mM(t),o=!yM((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),a=o&&!yM((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[bM]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!o||!a||n){var u=dM(/./[i]),s=e(i,""[t],(function(t,e,n,r,i){var a=dM(t),s=e.exec;return s===vM||s===wM.exec?o&&!i?{done:!0,value:u(e,n,r)}:{done:!0,value:a(n,e,r)}:{done:!1}}));pM(String.prototype,t,s[0]),pM(wM,i,s[1])}r&&gM(wM[i],"sham",!0)},FM=jn,zM=Rr,HM=wr,YM=Ln,UM=ka,BM=$a,GM=ip,VM=Tn,qM=function(t,e,n){return e+(n?xM(t,e).length:1)},KM=ri,ZM=function(t,e,n,r,i,o){var a=n+t.length,u=r.length,s=EM;return void 0!==i&&(i=kM(i),s=DM),_M(o,s,(function(o,s){var c;switch(jM(s,0)){case"$":return"$";case"&":return t;case"`":return MM(e,0,n);case"'":return MM(e,a);case"<":c=i[MM(s,1,-1)];break;default:var l=+s;if(0===l)return o;if(l>u){var f=SM(l/10);return 0===f?o:f<=u?void 0===r[f-1]?jM(s,1):r[f-1]+jM(s,1):o}c=r[l-1]}return void 0===c?"":c}))},JM=function(t,e){var n=t.exec;if(LM(n)){var r=$M(n,t,e);return null!==r&&PM(r),r}if("RegExp"===AM(t))return $M(CM,t,e);throw TM("RegExp#exec called on incompatible receiver")},QM=pr("replace"),XM=Math.max,tD=Math.min,eD=NM([].concat),nD=NM([].push),rD=NM("".indexOf),iD=NM("".slice),oD="$0"==="a".replace(/./,"$0"),aD=!!/./[QM]&&""===/./[QM]("a","$0"),uD=!FM((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));WM("replace",(function(t,e,n){var r=aD?"$":"$0";return[function(t,n){var r=VM(this),i=YM(t)?void 0:KM(t,QM);return i?IM(i,t,r,n):IM(e,GM(r),t,n)},function(t,i){var o=zM(this),a=GM(t);if("string"==typeof i&&-1===rD(i,r)&&-1===rD(i,"$<")){var u=n(e,o,a,i);if(u.done)return u.value}var s=HM(i);s||(i=GM(i));var c=o.global;if(c){var l=o.unicode;o.lastIndex=0}for(var f=[];;){var h=JM(o,a);if(null===h)break;if(nD(f,h),!c)break;""===GM(h[0])&&(o.lastIndex=qM(a,BM(o.lastIndex),l))}for(var d,p="",v=0,y=0;y<f.length;y++){for(var m=GM((h=f[y])[0]),g=XM(tD(UM(h.index),a.length),0),b=[],w=1;w<h.length;w++)nD(b,void 0===(d=h[w])?d:String(d));var x=h.groups;if(s){var O=eD([m],b,g,a);void 0!==x&&nD(O,x);var k=GM(RM(i,void 0,O))}else k=ZM(m,a,g,b,x,i);g>=v&&(p+=iD(a,v,g)+k,v=g+m.length)}return p+iD(a,v)}]}),!uD||!oD||aD);var sD=function(){function t(e){en(this,t),fM.add(this),this.calendar=e}return rn(t,[{key:"getDatas",value:function(t,e,n){return hv(this,void 0,void 0,Xe().mark((function r(){var i;return Xe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!("string"==typeof t&&t.length>0)){r.next=2;break}return r.abrupt("return",dv(this,fM,"m",hM).call(this,t,e,n));case 2:return i=[],Array.isArray(t)&&(i=t),r.abrupt("return",new Promise((function(t){t(i)})));case 5:case"end":return r.stop()}}),r,this)})))}},{key:"parseURI",value:function(t,e,n){var r=this,i=t.replace(/\{\{start=(.*)\}\}/g,(function(t,n){return r.calendar.dateHelper.date(e).format(n)}));return i=i.replace(/\{\{end=(.*)\}\}/g,(function(t,e){return r.calendar.dateHelper.date(n).format(e)}))}}]),t}();fM=new WeakSet,hM=function(t,e,n){var r=this.calendar.options.options.data,i=r.type,o=r.requestInit,a=this.parseURI(t,e,n);switch(i){case"json":return Qe(a,o);case"csv":return Je(a,o);case"tsv":return Ze("\t",a,o);case"txt":return Ke(a,o);default:return new Promise((function(t){t([])}))}};var cD=Or,lD=Ti.EXISTS,fD=Pn,hD=Iu,dD=Function.prototype,pD=fD(dD.toString),vD=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,yD=fD(vD.exec);cD&&!lD&&hD(dD,"name",{configurable:!0,get:function(){try{return yD(vD,pD(this))[1]}catch(t){return""}}});var mD={exports:{}};mD.exports=function(){var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",u="day",s="week",c="month",l="quarter",f="year",h="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},g={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),o=n-i<0,a=e.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:f,w:s,d:u,D:h,h:a,m:o,s:i,ms:r,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},b="en",w={};w[b]=y;var x=function(t){return t instanceof j},O=function t(e,n,r){var i;if(!e)return b;if("string"==typeof e){var o=e.toLowerCase();w[o]&&(i=o),n&&(w[o]=n,i=o);var a=e.split("-");if(!i&&a.length>1)return t(a[0])}else{var u=e.name;w[u]=e,i=u}return!r&&i&&(b=i),i||!r&&b},k=function(t,e){if(x(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new j(n)},S=g;S.l=O,S.i=x,S.w=function(t,e){return k(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var j=function(){function y(t){this.$L=O(t.locale,null,!0),this.parse(t)}var m=y.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(S.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return S},m.isValid=function(){return!(this.$d.toString()===d)},m.isSame=function(t,e){var n=k(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return k(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<k(t)},m.$g=function(t,e,n){return S.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!S.u(e)||e,l=S.p(t),d=function(t,e){var i=S.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(u)},p=function(t,e){return S.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},v=this.$W,y=this.$M,m=this.$D,g="set"+(this.$u?"UTC":"");switch(l){case f:return r?d(1,0):d(31,11);case c:return r?d(1,y):d(0,y+1);case s:var b=this.$locale().weekStart||0,w=(v<b?v+7:v)-b;return d(r?m-w:m+(6-w),y);case u:case h:return p(g+"Hours",0);case a:return p(g+"Minutes",1);case o:return p(g+"Seconds",2);case i:return p(g+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,s=S.p(t),l="set"+(this.$u?"UTC":""),d=(n={},n[u]=l+"Date",n[h]=l+"Date",n[c]=l+"Month",n[f]=l+"FullYear",n[a]=l+"Hours",n[o]=l+"Minutes",n[i]=l+"Seconds",n[r]=l+"Milliseconds",n)[s],p=s===u?this.$D+(e-this.$W):e;if(s===c||s===f){var v=this.clone().set(h,1);v.$d[d](p),v.init(),this.$d=v.set(h,Math.min(this.$D,v.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[S.p(t)]()},m.add=function(r,l){var h,d=this;r=Number(r);var p=S.p(l),v=function(t){var e=k(d);return S.w(e.date(e.date()+Math.round(t*r)),d)};if(p===c)return this.set(c,this.$M+r);if(p===f)return this.set(f,this.$y+r);if(p===u)return v(1);if(p===s)return v(7);var y=(h={},h[o]=e,h[a]=n,h[i]=t,h)[p]||1,m=this.$d.getTime()+r*y;return S.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),o=this.$H,a=this.$m,u=this.$M,s=n.weekdays,c=n.months,l=function(t,n,i,o){return t&&(t[n]||t(e,r))||i[n].slice(0,o)},f=function(t){return S.s(o%12||12,t,"0")},h=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:S.s(u+1,2,"0"),MMM:l(n.monthsShort,u,c,3),MMMM:l(c,u),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,s,2),ddd:l(n.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(o),HH:S.s(o,2,"0"),h:f(1),hh:f(2),a:h(o,a,!0),A:h(o,a,!1),m:String(a),mm:S.s(a,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:i};return r.replace(v,(function(t,e){return e||p[t]||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,h,d){var p,v=S.p(h),y=k(r),m=(y.utcOffset()-this.utcOffset())*e,g=this-y,b=S.m(this,y);return b=(p={},p[f]=b/12,p[c]=b,p[l]=b/3,p[s]=(g-m)/6048e5,p[u]=(g-m)/864e5,p[a]=g/n,p[o]=g/e,p[i]=g/t,p)[v]||g,d?b:S.a(b)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return w[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=O(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return S.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},y}(),_=j.prototype;return k.prototype=_,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",u],["$M",c],["$y",f],["$D",h]].forEach((function(t){_[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),k.extend=function(t,e){return t.$i||(t(e,j,k),t.$i=!0),k},k.locale=O,k.isDayjs=x,k.unix=function(t){return k(1e3*t)},k.en=w[b],k.Ls=w,k.p={},k}();var gD,bD,wD=fn(mD.exports),xD={exports:{}},OD=fn(xD.exports=(gD="week",bD="year",function(t,e,n){var r=e.prototype;r.week=function(t){if(void 0===t&&(t=null),null!==t)return this.add(7*(t-this.week()),"day");var e=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var r=n(this).startOf(bD).add(1,bD).date(e),i=n(this).endOf(gD);if(r.isBefore(i))return 1}var o=n(this).startOf(bD).date(e).startOf(gD).subtract(1,"millisecond"),a=this.diff(o,gD,!0);return a<0?n(this).startOf("week").week():Math.ceil(a)},r.weeks=function(t){return void 0===t&&(t=null),this.week(t)}})),kD={exports:{}};kD.exports=function(t,e,n){e.prototype.dayOfYear=function(t){var e=Math.round((n(this).startOf("day")-n(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"day")}};var SD=fn(kD.exports),jD={exports:{}};jD.exports=function(t,e){e.prototype.weekday=function(t){var e=this.$locale().weekStart||0,n=this.$W,r=(n<e?n+7:n)-e;return this.$utils().u(t)?r:this.subtract(r,"day").add(t,"day")}};var _D=fn(jD.exports),MD={exports:{}};MD.exports=function(t,e,n){var r=function(t,e){if(!e||!e.length||!e[0]||1===e.length&&!e[0].length)return null;var n;1===e.length&&e[0].length>0&&(e=e[0]),n=e[0];for(var r=1;r<e.length;r+=1)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n};n.max=function(){var t=[].slice.call(arguments,0);return r("isAfter",t)},n.min=function(){var t=[].slice.call(arguments,0);return r("isBefore",t)}};var DD=fn(MD.exports),ED={exports:{}};ED.exports=function(t,e){e.prototype.isoWeeksInYear=function(){var t=this.isLeapYear(),e=this.endOf("y").day();return 4===e||t&&5===e?53:52}};var $D=fn(ED.exports),PD={exports:{}};PD.exports=function(){var t="day";return function(e,n,r){var i=function(e){return e.add(4-e.isoWeekday(),t)},o=n.prototype;o.isoWeekYear=function(){return i(this).year()},o.isoWeek=function(e){if(!this.$utils().u(e))return this.add(7*(e-this.isoWeek()),t);var n,o,a,u=i(this),s=(n=this.isoWeekYear(),a=4-(o=(this.$u?r.utc:r)().year(n).startOf("year")).isoWeekday(),o.isoWeekday()>4&&(a+=7),o.add(a,t));return u.diff(s,"week")+1},o.isoWeekday=function(t){return this.$utils().u(t)?this.day()||7:this.day(this.day()%7?t:t-7)};var a=o.startOf;o.startOf=function(t,e){var n=this.$utils(),r=!!n.u(e)||e;return"isoweek"===n.p(t)?r?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):a.bind(this)(t,e)}}}();var LD=fn(PD.exports),AD={exports:{}};AD.exports=function(t,e){e.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}};var CD=fn(AD.exports),TD={exports:{}};TD.exports=function(t,e){var n=e.prototype,r=n.format;n.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return r.bind(this)(t);var i=this.$utils(),o=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"GGGG":return e.isoWeekYear();case"wo":return n.ordinal(e.week(),"W");case"w":case"ww":return i.s(e.week(),"w"===t?1:2,"0");case"W":case"WW":return i.s(e.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return i.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();case"z":return"["+e.offsetName()+"]";case"zzz":return"["+e.offsetName("long")+"]";default:return t}}));return r.bind(this)(o)}};var RD=fn(TD.exports),ID={exports:{}};ID.exports=function(){var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,i,o){var a=i.prototype;o.utc=function(t){return new i({date:t,utc:!0,args:arguments})},a.utc=function(e){var n=o(this.toDate(),{locale:this.$L,utc:!0});return e?n.add(this.utcOffset(),t):n},a.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var u=a.parse;a.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),u.call(this,t)};var s=a.init;a.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else s.call(this)};var c=a.utcOffset;a.utcOffset=function(r,i){var o=this.$utils().u;if(o(r))return this.$u?0:o(this.$offset)?c.call(this):this.$offset;if("string"==typeof r&&(r=function(t){void 0===t&&(t="");var r=t.match(e);if(!r)return null;var i=(""+r[0]).match(n)||["-",0,0],o=i[0],a=60*+i[1]+ +i[2];return 0===a?0:"+"===o?a:-a}(r),null===r))return this;var a=Math.abs(r)<=16?60*r:r,u=this;if(i)return u.$offset=a,u.$u=0===r,u;if(0!==r){var s=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(u=this.local().add(a+s,t)).$offset=a,u.$x.$localOffset=s}else u=this.utc();return u};var l=a.format;a.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,e)},a.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var f=a.toDate;a.toDate=function(t){return"s"===t&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var h=a.diff;a.diff=function(t,e,n){if(t&&this.$u===t.$u)return h.call(this,t,e,n);var r=this.local(),i=o(t).local();return h.call(r,i,e,n)}}}();var ND=fn(ID.exports),WD={exports:{}};WD.exports=function(){var t={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(n,r,i){var o,a=function(t,n,r){void 0===r&&(r={});var i=new Date(t),o=function(t,n){void 0===n&&(n={});var r=n.timeZoneName||"short",i=t+"|"+r,o=e[i];return o||(o=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:r}),e[i]=o),o}(n,r);return o.formatToParts(i)},u=function(e,n){for(var r=a(e,n),o=[],u=0;u<r.length;u+=1){var s=r[u],c=s.type,l=s.value,f=t[c];f>=0&&(o[f]=parseInt(l,10))}var h=o[3],d=24===h?0:h,p=o[0]+"-"+o[1]+"-"+o[2]+" "+d+":"+o[4]+":"+o[5]+":000",v=+e;return(i.utc(p).valueOf()-(v-=v%1e3))/6e4},s=r.prototype;s.tz=function(t,e){void 0===t&&(t=o);var n=this.utcOffset(),r=this.toDate(),a=r.toLocaleString("en-US",{timeZone:t}),u=Math.round((r-new Date(a))/1e3/60),s=i(a).$set("millisecond",this.$ms).utcOffset(15*-Math.round(r.getTimezoneOffset()/15)-u,!0);if(e){var c=s.utcOffset();s=s.add(n-c,"minute")}return s.$x.$timezone=t,s},s.offsetName=function(t){var e=this.$x.$timezone||i.tz.guess(),n=a(this.valueOf(),e,{timeZoneName:t}).find((function(t){return"timezonename"===t.type.toLowerCase()}));return n&&n.value};var c=s.startOf;s.startOf=function(t,e){if(!this.$x||!this.$x.$timezone)return c.call(this,t,e);var n=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return c.call(n,t,e).tz(this.$x.$timezone,!0)},i.tz=function(t,e,n){var r=n&&e,a=n||e||o,s=u(+i(),a);if("string"!=typeof t)return i(t).tz(a);var c=function(t,e,n){var r=t-60*e*1e3,i=u(r,n);if(e===i)return[r,e];var o=u(r-=60*(i-e)*1e3,n);return i===o?[r,i]:[t-60*Math.min(i,o)*1e3,Math.max(i,o)]}(i.utc(t,r).valueOf(),s,a),l=c[0],f=c[1],h=i(l).utcOffset(f);return h.$x.$timezone=a,h},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(t){o=t}}}();var FD=fn(WD.exports),zD={exports:{}};zD.exports=function(t,e,n){var r=e.prototype,i=function(t){return t&&(t.indexOf?t:t.s)},o=function(t,e,n,r,o){var a=t.name?t:t.$locale(),u=i(a[e]),s=i(a[n]),c=u||s.map((function(t){return t.slice(0,r)}));if(!o)return c;var l=a.weekStart;return c.map((function(t,e){return c[(e+(l||0))%7]}))},a=function(){return n.Ls[n.locale()]},u=function(t,e){return t.formats[e]||function(t){return t.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}(t.formats[e.toUpperCase()])},s=function(){var t=this;return{months:function(e){return e?e.format("MMMM"):o(t,"months")},monthsShort:function(e){return e?e.format("MMM"):o(t,"monthsShort","months",3)},firstDayOfWeek:function(){return t.$locale().weekStart||0},weekdays:function(e){return e?e.format("dddd"):o(t,"weekdays")},weekdaysMin:function(e){return e?e.format("dd"):o(t,"weekdaysMin","weekdays",2)},weekdaysShort:function(e){return e?e.format("ddd"):o(t,"weekdaysShort","weekdays",3)},longDateFormat:function(e){return u(t.$locale(),e)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return s.bind(this)()},n.localeData=function(){var t=a();return{firstDayOfWeek:function(){return t.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(e){return u(t,e)},meridiem:t.meridiem,ordinal:t.ordinal}},n.months=function(){return o(a(),"months")},n.monthsShort=function(){return o(a(),"monthsShort","months",3)},n.weekdays=function(t){return o(a(),"weekdays",null,null,t)},n.weekdaysShort=function(t){return o(a(),"weekdaysShort","weekdays",3,t)},n.weekdaysMin=function(t){return o(a(),"weekdaysMin","weekdays",2,t)}};var HD=fn(zD.exports),YD={exports:{}};YD.exports=function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(e,n,r){var i=n.prototype,o=i.format;r.en.formats=t,i.format=function(e){void 0===e&&(e="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,r=function(e,n){return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,r,i){var o=i&&i.toUpperCase();return r||n[i]||t[i]||n[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))}(e,void 0===n?{}:n);return o.call(this,r)}}}();var UD=fn(YD.exports),BD={exports:{}};BD.exports=function(t,e,n){n.updateLocale=function(t,e){var r=n.Ls[t];if(r)return(e?Object.keys(e):[]).forEach((function(t){r[t]=e[t]})),r}};var GD=fn(BD.exports);wD.extend(OD),wD.extend($D),wD.extend(LD),wD.extend(CD),wD.extend(SD),wD.extend(_D),wD.extend(DD),wD.extend(RD),wD.extend(ND),wD.extend(FD),wD.extend(HD),wD.extend(UD),wD.extend(GD);var VD="en",qD=function(){function t(){var e;en(this,t),this.locale=VD,this.timezone=wD.tz.guess(),"object"===("undefined"==typeof window?"undefined":tn(window))&&((e=window).dayjs||(e.dayjs=wD))}return rn(t,[{key:"setup",value:function(t){var e=t.options;return hv(this,void 0,void 0,Xe().mark((function t(){var n,r;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.timezone=e.date.timezone||wD.tz.guess(),"string"!=typeof(n=e.date.locale)||n===VD){t.next=17;break}if("object"!==("undefined"==typeof window?"undefined":tn(window))){t.next=12;break}if(t.t0=window["dayjs_locale_".concat(n)],t.t0){t.next=9;break}return t.next=8,this.loadBrowserLocale(n);case 8:t.t0=t.sent;case 9:r=t.t0,t.next=15;break;case 12:return t.next=14,this.loadNodeLocale(n);case 14:r=t.sent;case 15:wD.locale(n),this.locale=r;case 17:"object"===tn(n)&&(n.hasOwnProperty("name")?(wD.locale(n.name,n),this.locale=n):this.locale=wD.updateLocale(VD,n));case 18:case"end":return t.stop()}}),t,this)})))}},{key:"extend",value:function(t){return wD.extend(t)}},{key:"getMonthWeekNumber",value:function(t){var e=this.date(t),n=e.startOf("day"),r=e.startOf("month").endOf("week");return n<=r?1:Math.ceil(n.diff(r,"weeks",!0))+1}},{key:"getWeeksCountInMonth",value:function(t){var e=this.date(t);return this.getLastWeekOfMonth(e).diff(this.getFirstWeekOfMonth(e),"week")+1}},{key:"getFirstWeekOfMonth",value:function(t){var e=this.date(t).startOf("month"),n=e.startOf("week");return e.weekday()>4&&(n=n.add(1,"week")),n}},{key:"getLastWeekOfMonth",value:function(t){var e=this.date(t).endOf("month"),n=e.endOf("week");return e.weekday()<4&&(n=n.subtract(1,"week")),n}},{key:"date",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return wD.isDayjs(t)?t:wD(t).tz(this.timezone).utcOffset(0).locale(this.locale)}},{key:"format",value:function(t,e){if("function"==typeof e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.apply(void 0,[t].concat(r))}return"string"==typeof e?this.date(t).format(e):null}},{key:"intervals",value:function(t,e,n){var r,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this.date(e);r="number"==typeof n?o.add(n,t):wD.isDayjs(n)?n:this.date(n),o=o.startOf(t),r=r.startOf(t);var a=wD.min(o,r);r=wD.max(o,r);var u=[];i||(r=r.add(1,"second"));do{u.push(+a),a=a.add(1,t)}while(a<r);return u}},{key:"loadBrowserLocale",value:function(t){return new Promise((function(e,n){var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://cdn.jsdelivr.net/npm/dayjs@1/locale/".concat(t,".js"),r.onerror=function(t){n(t)},r.onload=function(){e(window["dayjs_locale_".concat(t)])},document.head.appendChild(r)}))}},{key:"loadNodeLocale",value:function(t){return import("dayjs/locale/".concat(t,".js"))}}]),t}(),KD=wu,ZD=hx,JD=Tn,QD=ip,XD=px,tE=Pn("".indexOf);KD({target:"String",proto:!0,forced:!XD("includes")},{includes:function(t){return!!~tE(QD(JD(this)),QD(ZD(t)),arguments.length>1?arguments[1]:void 0)}});var eE=["json","csv","tsv","txt"];function nE(t,e){var n=e.domain,r=e.subDomain,i=e.data,o=n.type,a=r.type;if(!t.has(o))throw new Error("'".concat(o,"' is not a valid domain type'"));if(!t.has(a))throw new Error("'".concat(a,"' is not a valid subDomain type'"));if(i.type&&!eE.includes(i.type))throw new Error("The data type '".concat(i.type,"' is not valid data type"));if(!(t.get(a).allowedDomainType||[]).includes(o))throw new Error("The subDomain.type '".concat(a,"' can not be used together ")+"with the domain type ".concat(o));return!0}Ky("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),ug);var rE=function(){function t(e){en(this,t),this.calendar=e,this.settings=new Map,this.plugins=new Map,this.pendingPaint=new Set}return rn(t,[{key:"add",value:function(t){var e=this;t.forEach((function(t){var n,r,i=on(t,2),o=i[0],a=i[1],u=function(t,e){return"".concat((new t).name).concat((null==e?void 0:e.key)||"")}(o,a);e.plugins.get(u)&&e.settings.get(u)&&o_(e.settings.get(u).options,a)||(e.settings.set(u,{options:a,dirty:!0}),e.plugins.has(u)||e.plugins.set(u,(n=o,r=e.calendar,new n(r))),e.pendingPaint.add(e.plugins.get(u)))}))}},{key:"setupAll",value:function(){var t=this;this.plugins.forEach((function(e,n){var r=t.settings.get(n);void 0!==r&&r.dirty&&(e.setup(r.options),r.dirty=!1,t.settings.set(n,r))}))}},{key:"paintAll",value:function(){return Array.from(this.pendingPaint.values()).map((function(t){return t.paint()}))}},{key:"destroyAll",value:function(){return this.allPlugins().map((function(t){return t.destroy()}))}},{key:"getFromPosition",value:function(t){return this.allPlugins().filter((function(e){var n;return(null===(n=e.options)||void 0===n?void 0:n.position)===t}))}},{key:"getHeightFromPosition",value:function(t){return this.getFromPosition(t).map((function(t){return t.options.dimensions.height})).reduce((function(t,e){return t+e}),0)}},{key:"getWidthFromPosition",value:function(t){return this.getFromPosition(t).map((function(t){return t.options.dimensions.width})).reduce((function(t,e){return t+e}),0)}},{key:"allPlugins",value:function(){return Array.from(this.plugins.values())}}]),t}(),iE=[function(t){return{name:"minute",allowedDomainType:["day","hour"],rowsCount:function(){return 10},columnsCount:function(){return 6},mapping:function(e,n){return t.intervals("minute",e,t.date(n)).map((function(t,e){return{t:t,x:Math.floor(e/10),y:e%10}}))},extractUnit:function(e){return t.date(e).startOf("minute").valueOf()}}},function(t,e){var n=e.domain;return{name:"hour",allowedDomainType:["month","week","day"],rowsCount:function(){return 6},columnsCount:function(e){switch(n.type){case"week":return 28;case"month":return 4*(n.dynamicDimension?t.date(e).daysInMonth():31);default:return 4}},mapping:function(e,r){return t.intervals("hour",e,t.date(r)).map((function(e){var r=t.date(e),i=r.hour(),o=r.date(),a=Math.floor(i/6);return"month"===n.type&&(a+=4*(o-1)),"week"===n.type&&(a+=4*+r.format("d")),{t:e,x:a,y:Math.floor(i%6)}}))},extractUnit:function(e){return t.date(e).startOf("hour").valueOf()}}},function(t,e){var n=e.domain,r=e.verticalOrientation;return{name:"day",allowedDomainType:["year","month","week"],rowsCount:function(){return"week"===n.type?1:7},columnsCount:function(e){switch(n.type){case"month":return Math.ceil(n.dynamicDimension&&!r?t.getMonthWeekNumber(t.date(e).endOf("month")):6);case"year":return Math.ceil(n.dynamicDimension?t.date(e).endOf("year").dayOfYear()/7:54);default:return 7}},mapping:function(e,r){var i=0,o=-1;return t.intervals("day",e,t.date(r)).map((function(e){var r=t.date(e);switch(n.type){case"month":o=t.getMonthWeekNumber(e)-1;break;case"year":i!==r.week()&&(i=r.week(),o+=1);break;case"week":o=r.weekday()}return{t:e,x:o,y:"week"===n.type?0:r.weekday()}}))},extractUnit:function(e){return t.date(e).startOf("day").valueOf()}}},function(t,e){var n=e.domain,r=e.verticalOrientation;return{name:"xDay",allowedDomainType:["year","month","week"],rowsCount:function(e){switch(n.type){case"month":return Math.ceil(n.dynamicDimension&&!r?t.getMonthWeekNumber(t.date(e).endOf("month")):6);case"year":return Math.ceil(n.dynamicDimension?t.date(e).endOf("year").dayOfYear()/7:54);default:return 7}},columnsCount:function(){return"week"===n.type?1:7},mapping:function(e,r){return t.intervals("day",e,t.date(r)).map((function(e){var r=t.date(e),i=r.endOf("year").week(),o=0;switch(n.type){case"month":o=t.getMonthWeekNumber(e)-1;break;case"year":1===i&&r.week()===i&&(o=r.subtract(1,"week").week()+1),o=r.week()-1;break;case"week":o=r.weekday()}return{t:e,y:o,x:"week"===n.type?0:r.weekday()}}))},extractUnit:function(e){return t.date(e).startOf("day").valueOf()}}},function(t){return{name:"ghDay",allowedDomainType:["month"],rowsCount:function(){return 7},columnsCount:function(e){return t.getWeeksCountInMonth(e)},mapping:function(e,n){var r=t.getFirstWeekOfMonth(e),i=t.getFirstWeekOfMonth(n),o=-1,a=r.weekday();return t.intervals("day",r,i).map((function(e){var n=t.date(e).weekday();return n===a&&(o+=1),{t:e,x:o,y:n}}))},extractUnit:function(e){return t.date(e).startOf("day").valueOf()}}},function(t,e){var n=e.domain;return{name:"week",allowedDomainType:["year","month"],rowsCount:function(){return 1},columnsCount:function(e){switch(n.type){case"year":return n.dynamicDimension?t.date(e).endOf("year").isoWeeksInYear():53;case"month":return n.dynamicDimension?t.getWeeksCountInMonth(e):5;default:return 1}},mapping:function(e,n){var r=t.getFirstWeekOfMonth(e),i=t.getFirstWeekOfMonth(n);return t.intervals("week",r,i).map((function(t,e){return{t:t,x:e,y:0}}))},extractUnit:function(e){return t.date(e).startOf("week").valueOf()}}},function(t){return{name:"month",allowedDomainType:["year"],rowsCount:function(){return 1},columnsCount:function(){return 12},mapping:function(e,n){return t.intervals("month",e,t.date(n)).map((function(e){return{t:e,x:t.date(e).month(),y:0}}))},extractUnit:function(e){return t.date(e).startOf("month").valueOf()}}},function(t){return{name:"year",allowedDomainType:[],rowsCount:function(){return 1},columnsCount:function(){return 1},mapping:function(e,n){return t.intervals("year",e,t.date(n)).map((function(t,e){return{t:t,x:e,y:0}}))},extractUnit:function(e){return t.date(e).startOf("year").valueOf()}}}],oE=function(){function t(e,n){en(this,t),this.settings=new Map,this.dateHelper=e,this.options=n,this.initiated=!1}return rn(t,[{key:"get",value:function(t){return this.settings.get(t)}},{key:"has",value:function(t){return this.settings.has(t)}},{key:"init",value:function(){this.initiated||(this.initiated=!0,this.add(iE))}},{key:"add",value:function(t){var e=this;this.init();var n=[];mv(t).forEach((function(t){var r=t(e.dateHelper,e.options.options);e.settings.set(r.name,r),r.hasOwnProperty("parent")&&n.push(r.name)})),n.forEach((function(t){var n=e.settings.get(e.settings.get(t).parent);n&&e.settings.set(t,Object.assign(Object.assign({},n),e.settings.get(t)))}))}}]),t}(),aE=function(){function t(){en(this,t),this.options=new P_,this.dateHelper=new qD,this.templateCollection=new oE(this.dateHelper,this.options),this.dataFetcher=new sD(this),this.navigator=new Sm(this),this.populator=new yk(this),this.calendarPainter=new Nw(this),this.eventEmitter=new vv,this.pluginManager=new rE(this)}return rn(t,[{key:"createDomainCollection",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new lw(this.dateHelper,this.options.options.domain.type,t,e,n)}},{key:"paint",value:function(t,e){return hv(this,void 0,void 0,Xe().mark((function n(){return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.options.init(t),n.next=3,this.dateHelper.setup(this.options);case 3:this.templateCollection.init(),n.prev=4,nE(this.templateCollection,this.options.options),n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(4),n.abrupt("return",Promise.reject(n.t0));case 11:return e&&this.pluginManager.add(mv(e)),this.calendarPainter.setup(),this.domainCollection=new lw(this.dateHelper),this.navigator.loadNewDomains(this.createDomainCollection(this.options.options.date.start,this.options.options.range)),n.abrupt("return",Promise.allSettled([this.calendarPainter.paint(),this.fill()]));case 16:case"end":return n.stop()}}),n,this,[[4,8]])})))}},{key:"addTemplates",value:function(t){this.templateCollection.add(t)}},{key:"next",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.max,t+1).slice(t),ym.SCROLL_FORWARD);return Promise.allSettled([this.calendarPainter.paint(e),this.fill()])}},{key:"previous",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.min,-t),ym.SCROLL_BACKWARD);return Promise.allSettled([this.calendarPainter.paint(e),this.fill()])}},{key:"jumpTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.allSettled([this.calendarPainter.paint(this.navigator.jumpTo(t,e)),this.fill()])}},{key:"fill",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.options.data.source,n=this.options.options,r=this.templateCollection,i=this.dateHelper.intervals(n.domain.type,this.domainCollection.max,2)[1],o=this.dataFetcher.getDatas(e,this.domainCollection.min,i);return new Promise((function(e,i){o.then((function(i){t.domainCollection.fill(i,n.data,r.get(n.subDomain.type).extractUnit),t.populator.populate(),e(null)}),(function(t){i(t)}))}))}},{key:"on",value:function(t,e){this.eventEmitter.on(t,e)}},{key:"dimensions",value:function(){return this.calendarPainter.dimensions}},{key:"destroy",value:function(){return this.calendarPainter.destroy()}},{key:"extendDayjs",value:function(t){return this.dateHelper.extend(t)}}]),t}();aE.VERSION="4.2.3";export{aE as default};//# sourceMappingURL=cal-heatmap.min.esm.js.map
